# Business Brain í˜ì‹ ì  ê°œì„  ê³„íšì„œ
## "Minority Report for Business" - AI ê¸°ë°˜ ì˜ˆì¸¡ì  ê²½ì˜ ì¸í…”ë¦¬ì „ìŠ¤ ì‹œìŠ¤í…œ

---

> **ğŸ“Œ ë°ì´í„° ì—…ë°ì´íŠ¸ ì£¼ê¸°**: ë§¤ì¼ ì˜¤ì „ 11ì‹œ ë§¤ë‰´ì–¼ ì—…ë°ì´íŠ¸
> **ğŸ“Œ í•µì‹¬ ë°©í–¥**: ì‹¤ì‹œê°„ ê¸°ëŠ¥ ì œì™¸, ë°°ì¹˜ ë¶„ì„ ìµœì í™” ë° ì¸ì‚¬ì´íŠ¸ í’ˆì§ˆ ê°•í™”

---

## 1. í˜„ì¬ ìƒíƒœ ì¢…í•© ë¶„ì„

### 1.1 êµ¬í˜„ í˜„í™© ê°œìš”

Business Brainì€ í˜„ì¬ **5,200ì¤„ ì´ìƒ**ì˜ í”„ë¡ íŠ¸ì—”ë“œ ì½”ë“œì™€ **2,600ì¤„ ì´ìƒ**ì˜ ë°±ì—”ë“œ ì—ì´ì „íŠ¸ ì½”ë“œë¡œ êµ¬ì„±ëœ ì¢…í•© ê²½ì˜ ì¸í…”ë¦¬ì „ìŠ¤ ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

#### êµ¬í˜„ëœ ê¸°ëŠ¥ ë§¤íŠ¸ë¦­ìŠ¤

| ì¹´í…Œê³ ë¦¬ | ê¸°ëŠ¥ | êµ¬í˜„ ìƒíƒœ | ì™„ì„±ë„ |
|---------|------|----------|--------|
| **ê°œìš”** | ëŒ€ì‹œë³´ë“œ (ê±´ê°•ë„ + ì¢…í•© ì¸ì‚¬ì´íŠ¸) | âœ… ì™„ë£Œ | 85% |
| **ê³ ê° ë¶„ì„** | RFM ì„¸ë¶„í™” | âœ… ì™„ë£Œ | 80% |
| | ì´íƒˆ ì˜ˆì¸¡ | âœ… ì™„ë£Œ | 75% |
| | ì‹ ê·œ ìœ ì € ìœ ì¹˜ ë¶„ì„ | âœ… ì™„ë£Œ | 70% |
| | ì¬êµ¬ë§¤ìœ¨ í–¥ìƒ ë¶„ì„ | âœ… ì™„ë£Œ | 70% |
| **ì‘ê°€ ë¶„ì„** | ì‘ê°€ ê±´ê°•ë„ | âœ… ì™„ë£Œ | 75% |
| | íŒŒë ˆí†  ë¶„ì„ | âœ… ì™„ë£Œ | 80% |
| **ë§¤ì¶œ ë¶„ì„** | íŠ¸ë Œë“œ ë¶„ì„ | âœ… ì™„ë£Œ | 75% |
| | ë§¤ì¶œ ì˜ˆì¸¡ | âœ… ì™„ë£Œ | 70% |
| | ì½”í˜¸íŠ¸ ë¶„ì„ | âœ… ì™„ë£Œ | 75% |
| **ì¸ì‚¬ì´íŠ¸** | ê¸°íšŒ ë°œê²¬ | âœ… ì™„ë£Œ | 70% |
| | ë¦¬ìŠ¤í¬ ê°ì§€ | âœ… ì™„ë£Œ | 75% |
| | ì „ëµ ë¶„ì„ | âœ… ì™„ë£Œ | 70% |
| | ì „ëµ ì œì•ˆ | âœ… ì™„ë£Œ | 65% |
| **ê³ ê¸‰ ë¶„ì„** | ì´ìƒ íƒì§€ | âœ… ì™„ë£Œ | 80% |
| | ê¸°ê°„ë³„ ì¶”ì´ | âœ… ì™„ë£Œ | 75% |
| **ì•¡ì…˜** | ì•¡ì…˜ ì œì•ˆ | âœ… ì™„ë£Œ | 65% |
| | What-if ì‹œë®¬ë ˆì´ì…˜ | âœ… ì™„ë£Œ | 60% |
| | ë¦¬í¬íŠ¸ ìƒì„± | âœ… ì™„ë£Œ | 55% |

### 1.2 ê°•ì  ë¶„ì„

#### A. ê¸°ìˆ ì  ê°•ì 
```
âœ… ê²¬ê³ í•œ ì•„í‚¤í…ì²˜: BaseAgent ìƒì† êµ¬ì¡°ë¡œ í™•ì¥ì„± í™•ë³´
âœ… ìºì‹± ì‹œìŠ¤í…œ: BusinessBrainCacheë¡œ ì„±ëŠ¥ ìµœì í™”
âœ… ë‹¤ì–‘í•œ ë¶„ì„ ì—”ì§„: CubeAnalyzer, DecompositionEngine, InsightScorer ë“±
âœ… AI í†µí•©: OpenAI API ê¸°ë°˜ ìì—°ì–´ ë¸Œë¦¬í•‘ ìƒì„±
âœ… ê¸°ê°„ë³„ ë¶„ì„: ìœ ì—°í•œ PeriodPreset ì‹œìŠ¤í…œ
âœ… React Query: íš¨ìœ¨ì ì¸ ë°ì´í„° í˜ì¹­ ë° ìºì‹±
```

#### B. ê¸°ëŠ¥ì  ê°•ì 
```
âœ… 4ì°¨ì› ê±´ê°•ë„ ì ìˆ˜ (ë§¤ì¶œ/ê³ ê°/ì‘ê°€/ìš´ì˜)
âœ… íœ´ë¨¼ ì—ëŸ¬ ì²´í¬ (9ê°€ì§€ ìë™ ê²€ì¦ í•­ëª©)
âœ… ë‹¤ì¤‘ ê¸°ê°„ íŠ¸ë Œë“œ ë¶„ì„
âœ… RFM ê³ ê° ì„¸ë¶„í™” (7ê°œ ì„¸ê·¸ë¨¼íŠ¸)
âœ… íŒŒë ˆí†  ì§‘ì¤‘ë„ ë¶„ì„
âœ… ì‹œê³„ì—´ ë¶„í•´ (STL: ê³„ì ˆì„± + ì¶”ì„¸ + ì”ì°¨)
```

### 1.3 ê°œì„  í•„ìš” ì˜ì—­ (ì‹¬ì¸µ ë¶„ì„)

#### A. ì˜ˆì¸¡ ì •í™•ë„ ë° ì‹ ë¢°ë„ ë¬¸ì œ

```
ë¬¸ì œì :
âŒ ì˜ˆì¸¡ ëª¨ë¸ì˜ í†µê³„ì  ê²€ì¦ ë¶€ì¡±
âŒ ì‹ ë¢° êµ¬ê°„ í‘œì‹œ ë¯¸í¡
âŒ ì˜ˆì¸¡ vs ì‹¤ì œ ì„±ê³¼ ì¶”ì  ë¶€ì¬
âŒ ëª¨ë¸ ìë™ ì¬í•™ìŠµ ë©”ì»¤ë‹ˆì¦˜ ì—†ìŒ

í˜„ì¬ ì½”ë“œ:
- ForecastEngine: ë‹¨ìˆœ ì´ë™í‰ê·  + ì„ í˜•íšŒê·€ ê¸°ë°˜
- ì˜ˆì¸¡ ê²°ê³¼ì— confidenceë§Œ í‘œì‹œ, ì‹ ë¢° êµ¬ê°„ ë¯¸ì œê³µ
```

#### B. ì¸ì‚¬ì´íŠ¸ì˜ ì‹¤í–‰ ê°€ëŠ¥ì„± ë¶€ì¡±

```
ë¬¸ì œì :
âŒ ì¸ì‚¬ì´íŠ¸ â†’ ì‹¤ì œ ì•¡ì…˜ ì—°ê²° ì•½í•¨
âŒ ì•¡ì…˜ ì‹¤í–‰ í›„ ê²°ê³¼ ì¶”ì  ë¶ˆê°€
âŒ ì¸ì‚¬ì´íŠ¸ ìš°ì„ ìˆœìœ„ ê·¼ê±° ë¶ˆíˆ¬ëª…
âŒ ë¹„ì¦ˆë‹ˆìŠ¤ ì»¨í…ìŠ¤íŠ¸ ë¶€ì¡±

í˜„ì¬ ì½”ë“œ:
- InsightScorer: ì ìˆ˜ ê¸°ë°˜ ì •ë ¬ë§Œ ì œê³µ
- ì•¡ì…˜ ì œì•ˆì€ í…œí”Œë¦¿ ê¸°ë°˜, ë™ì  ìƒì„± ë¶€ì¡±
```

#### C. ì˜ì‚¬ê²°ì • ì§€ì› ì‹œìŠ¤í…œ ë¶€ì¬

```
ë¬¸ì œì :
âŒ ì˜ì‚¬ê²°ì • ì‹œë‚˜ë¦¬ì˜¤ ë¹„êµ ë„êµ¬ ë¶€ì¡±
âŒ ë¦¬ìŠ¤í¬-ë¦¬ì›Œë“œ ë§¤íŠ¸ë¦­ìŠ¤ ì—†ìŒ
âŒ ì˜ì‚¬ê²°ì • ì´ë ¥ ì¶”ì  ë¶ˆê°€
âŒ íŒ€ í˜‘ì—… ê¸°ëŠ¥ ì—†ìŒ
```

#### D. ì¼ì¼ ë°°ì¹˜ ë¶„ì„ ìµœì í™” í•„ìš”

```
í˜„ì¬ ìƒí™©:
ğŸ“Œ ë°ì´í„° ì—…ë°ì´íŠ¸: ë§¤ì¼ ì˜¤ì „ 11ì‹œ ë§¤ë‰´ì–¼ ì—…ë°ì´íŠ¸

ê°œì„  í•„ìš”:
âŒ ë°ì´í„° ì—…ë°ì´íŠ¸ í›„ ìë™ ë¶„ì„ íŠ¸ë¦¬ê±° ì—†ìŒ
âŒ ì „ì¼ ëŒ€ë¹„ ë³€í™” ê°ì§€ ë° í•˜ì´ë¼ì´íŠ¸ ë¶€ì¡±
âŒ ëª©í‘œ ëŒ€ë¹„ ì§„í–‰ ìƒí™© ì¶”ì  ì—†ìŒ
âŒ ì¼ì¼ í•µì‹¬ ë³€í™” ìš”ì•½ ë¦¬í¬íŠ¸ ì—†ìŒ
```

#### E. ì‹œê°í™” ë° UX ê°œì„  í•„ìš”

```
ë¬¸ì œì :
âš ï¸ íƒ­ì´ ë„ˆë¬´ ë§ì•„ ì •ë³´ ì ‘ê·¼ì„± ì €í•˜ (18ê°œ íƒ­)
âš ï¸ í•µì‹¬ ì§€í‘œê°€ í•œëˆˆì— ë“¤ì–´ì˜¤ì§€ ì•ŠìŒ
âš ï¸ ë°ì´í„° ìŠ¤í† ë¦¬í…”ë§ ë¶€ì¡±
âš ï¸ ê°œì¸í™” ì˜µì…˜ ë¶€ì¡±
```

---

## 2. ì™¸ë¶€ í”ŒëŸ¬ê·¸ì¸ ë° ê³ ê¸‰ ë„êµ¬ í™œìš© ì „ëµ

### 2.1 ì‹œê°í™” ë¼ì´ë¸ŒëŸ¬ë¦¬ ìŠ¤íƒ

#### 2.1.1 Apache ECharts (í•µì‹¬ ê¶Œì¥)
```
íŒ¨í‚¤ì§€: echarts, echarts-for-react
ìš©ë„: ë³µì¡í•œ ì¸í„°ë™í‹°ë¸Œ ì°¨íŠ¸, ëŒ€ê·œëª¨ ë°ì´í„° ë Œë”ë§
ì¥ì :
  âœ… 100ë§Œ+ ë°ì´í„° í¬ì¸íŠ¸ ìµœì í™” ë Œë”ë§ (Canvas/WebGL)
  âœ… 70+ ë‚´ì¥ ì°¨íŠ¸ íƒ€ì… (Sankey, Sunburst, Treemap, Heatmap ë“±)
  âœ… ë“œë¦´ë‹¤ìš´, ë¸ŒëŸ¬ì‹±, ì¤Œ/íŒ¬ ë“± ê³ ê¸‰ ì¸í„°ë™ì…˜ ë‚´ì¥
  âœ… ë‹¤í¬ëª¨ë“œ, í…Œë§ˆ ì‹œìŠ¤í…œ ì™„ë²½ ì§€ì›
  âœ… SSR ì§€ì›
ì ìš© ì˜ì—­:
  - ë§¤ì¶œ íŠ¸ë Œë“œ ì˜ˆì¸¡ (ì‹ ë¢° êµ¬ê°„ í¬í•¨)
  - ê³ ê° íë¦„ Sankey ë‹¤ì´ì–´ê·¸ë¨
  - ì¹´í…Œê³ ë¦¬ë³„ Treemap
  - ì½”í˜¸íŠ¸ íˆíŠ¸ë§µ
  - ì‘ê°€-ì œí’ˆ-ê³ ê° ê´€ê³„ ë„¤íŠ¸ì›Œí¬
```

```typescript
// ì˜ˆì‹œ: ECharts ê¸°ë°˜ ê³ ê¸‰ ì˜ˆì¸¡ ì°¨íŠ¸
import ReactECharts from 'echarts-for-react';

const AdvancedForecastChart = ({ data, confidence }: Props) => {
  const option = {
    dataset: [{ source: data }],
    tooltip: {
      trigger: 'axis',
      formatter: (params) => /* ìƒì„¸ íˆ´íŒ í¬ë§· */
    },
    dataZoom: [
      { type: 'inside', start: 0, end: 100 },
      { type: 'slider' }
    ],
    visualMap: {
      show: false,
      dimension: 2,
      pieces: [
        { gt: 0.8, color: '#22c55e' },
        { gt: 0.5, lte: 0.8, color: '#f59e0b' },
        { lte: 0.5, color: '#ef4444' }
      ]
    },
    series: [
      {
        type: 'line',
        name: 'ì‹¤ì œ',
        encode: { x: 'date', y: 'actual' },
        smooth: true,
      },
      {
        type: 'line',
        name: 'ì˜ˆì¸¡',
        encode: { x: 'date', y: 'predicted' },
        lineStyle: { type: 'dashed' },
        areaStyle: { opacity: 0.1 },
      },
      {
        type: 'custom',
        name: '95% CI',
        renderItem: renderConfidenceInterval,
      }
    ]
  };
  
  return <ReactECharts option={option} style={{ height: 500 }} notMerge />;
};
```

#### 2.1.2 D3.js + Visx (ê³ ê¸‰ ì»¤ìŠ¤í…€ ì‹œê°í™”)
```
íŒ¨í‚¤ì§€: d3, @visx/* (Airbnb)
ìš©ë„: ì™„ì „ ì»¤ìŠ¤í…€ ì‹œê°í™”, ì• ë‹ˆë©”ì´ì…˜
ì¥ì :
  âœ… ë¬´í•œí•œ ì»¤ìŠ¤í„°ë§ˆì´ì§• ê°€ëŠ¥
  âœ… Visx: D3ì˜ íŒŒì›Œ + React ì»´í¬ë„ŒíŠ¸ ë°©ì‹
  âœ… ë³µì¡í•œ ì „í™˜ ì• ë‹ˆë©”ì´ì…˜
ì ìš© ì˜ì—­:
  - ì˜ì‚¬ê²°ì • íŠ¸ë¦¬ ì‹œê°í™”
  - íŒŒë ˆí†  ëˆ„ì  ê³¡ì„ 
  - í† ë„¤ì´ë„ ì°¨íŠ¸ (ë¯¼ê°ë„ ë¶„ì„)
  - ì›Œí„°í´ ì°¨íŠ¸ (ë§¤ì¶œ ë¶„í•´)
```

#### 2.1.3 Plotly.js (ê³¼í•™/í†µê³„ ì‹œê°í™”)
```
íŒ¨í‚¤ì§€: plotly.js, react-plotly.js
ìš©ë„: í†µê³„ì  ë¶„ì„ ì‹œê°í™”
ì¥ì :
  âœ… ë°•ìŠ¤í”Œë¡¯, ë°”ì´ì˜¬ë¦° í”Œë¡¯, íˆìŠ¤í† ê·¸ë¨
  âœ… 3D ì‚°ì ë„, ì„œí”¼ìŠ¤ í”Œë¡¯
  âœ… ë‚´ì¥ í†µê³„ ê¸°ëŠ¥ (íšŒê·€ì„ , ë¶„í¬)
  âœ… ì¸í„°ë™í‹°ë¸Œ ë‚´ë³´ë‚´ê¸°
ì ìš© ì˜ì—­:
  - ì´ìƒ íƒì§€ ì‹œê°í™”
  - ë¶„í¬ ë¶„ì„ (ê³ ê° êµ¬ë§¤ì•¡, ì‘ê°€ ë§¤ì¶œ)
  - í´ëŸ¬ìŠ¤í„°ë§ ê²°ê³¼ 3D ì‹œê°í™”
  - ìƒê´€ê´€ê³„ ë§¤íŠ¸ë¦­ìŠ¤
```

#### 2.1.4 ë„¤íŠ¸ì›Œí¬ ì‹œê°í™” ë„êµ¬
```
íŒ¨í‚¤ì§€: vis-network, cytoscape, sigma.js
ìš©ë„: ê´€ê³„ ë„¤íŠ¸ì›Œí¬ ë¶„ì„
ì¥ì :
  âœ… vis-network: ê°„í¸í•œ ì„¤ì •, ë¬¼ë¦¬ ì—”ì§„ ë‚´ì¥
  âœ… cytoscape: ë³µì¡í•œ ê·¸ë˜í”„ ì•Œê³ ë¦¬ì¦˜
  âœ… sigma.js: ëŒ€ê·œëª¨ ê·¸ë˜í”„ (10ë§Œ+ ë…¸ë“œ)
ì ìš© ì˜ì—­:
  - ì‘ê°€-ì œí’ˆ ë„¤íŠ¸ì›Œí¬
  - ê³ ê° êµ¬ë§¤ íŒ¨í„´ ê·¸ë˜í”„
  - ì˜í–¥ë ¥ ì „íŒŒ ì‹œê°í™”
  - ì¶”ì²œ ì‹œìŠ¤í…œ ì‹œê°í™”
```

```typescript
// ì˜ˆì‹œ: Cytoscape ê¸°ë°˜ ê³ ê°-ì‘ê°€ ê´€ê³„ ë„¤íŠ¸ì›Œí¬
import CytoscapeComponent from 'react-cytoscapejs';

const CustomerArtistNetwork = ({ relationships }) => {
  const elements = relationships.map(rel => ({
    data: {
      id: rel.id,
      source: `customer_${rel.customerId}`,
      target: `artist_${rel.artistId}`,
      weight: rel.purchaseCount,
    }
  }));
  
  const layout = {
    name: 'cose', // Force-directed
    animate: true,
    nodeDimensionsIncludeLabels: true,
  };
  
  return (
    <CytoscapeComponent
      elements={elements}
      layout={layout}
      style={{ width: '100%', height: '600px' }}
      stylesheet={[
        {
          selector: 'node[type="customer"]',
          style: { 'background-color': '#3b82f6' }
        },
        {
          selector: 'node[type="artist"]',
          style: { 'background-color': '#f59e0b' }
        },
        {
          selector: 'edge',
          style: { 'width': 'mapData(weight, 1, 100, 1, 10)' }
        }
      ]}
    />
  );
};
```

### 2.2 AI/ML ë¼ì´ë¸ŒëŸ¬ë¦¬ ìŠ¤íƒ

#### 2.2.1 TensorFlow.js (í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ML)
```
íŒ¨í‚¤ì§€: @tensorflow/tfjs, @tensorflow-models/*
ìš©ë„: ë¸Œë¼ìš°ì € ë‚´ ì‹¤ì‹œê°„ ì˜ˆì¸¡
ì¥ì :
  âœ… GPU ê°€ì† (WebGL)
  âœ… ì „ì´ í•™ìŠµ ì§€ì›
  âœ… ëª¨ë¸ ë³€í™˜ (Python â†’ JS)
  âœ… ê°œì¸ì •ë³´ ë³´í˜¸ (ì„œë²„ ì „ì†¡ ë¶ˆí•„ìš”)
ì ìš© ì˜ì—­:
  - ì‹¤ì‹œê°„ ì´íƒˆ ì˜ˆì¸¡ ìŠ¤ì½”ì–´ë§
  - ì´ìƒ íƒì§€ ì˜¤í† ì¸ì½”ë”
  - ì‹œê³„ì—´ ì˜ˆì¸¡ LSTM
  - ê³ ê° í´ëŸ¬ìŠ¤í„°ë§
```

```typescript
// ì˜ˆì‹œ: TensorFlow.js ê¸°ë°˜ ì‹¤ì‹œê°„ ì´íƒˆ ì˜ˆì¸¡
import * as tf from '@tensorflow/tfjs';

class ClientSideChurnPredictor {
  private model: tf.LayersModel | null = null;
  
  async loadModel() {
    this.model = await tf.loadLayersModel('/models/churn/model.json');
    // ëª¨ë¸ ì›Œë°ì—…
    const warmup = tf.zeros([1, 15]); // 15ê°œ í”¼ì²˜
    this.model.predict(warmup);
    warmup.dispose();
  }
  
  async predictChurnRisk(customerFeatures: number[][]): Promise<number[]> {
    if (!this.model) await this.loadModel();
    
    const tensor = tf.tensor2d(customerFeatures);
    const predictions = this.model!.predict(tensor) as tf.Tensor;
    const risks = await predictions.data();
    
    tensor.dispose();
    predictions.dispose();
    
    return Array.from(risks);
  }
  
  // ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë° ì˜ˆì¸¡
  async *streamPredictions(customerBatches: AsyncIterable<number[][]>) {
    for await (const batch of customerBatches) {
      yield await this.predictChurnRisk(batch);
    }
  }
}
```

#### 2.2.2 Prophet (ì‹œê³„ì—´ ì˜ˆì¸¡ - ë°±ì—”ë“œ)
```
íŒ¨í‚¤ì§€: prophet (Python), node-prophet (Node.js ë˜í¼)
ìš©ë„: ë¹„ì¦ˆë‹ˆìŠ¤ ì‹œê³„ì—´ ì˜ˆì¸¡
ì¥ì :
  âœ… ê³„ì ˆì„± ìë™ ê°ì§€ (ì¼ë³„, ì£¼ë³„, ì—°ë³„)
  âœ… íœ´ì¼ íš¨ê³¼ ëª¨ë¸ë§
  âœ… ê²°ì¸¡ì¹˜ ìë™ ì²˜ë¦¬
  âœ… ë¶ˆí™•ì‹¤ì„± êµ¬ê°„ ë‚´ì¥
  âœ… ë³€í™”ì  íƒì§€
ì ìš© ì˜ì—­:
  - ë§¤ì¶œ ì˜ˆì¸¡ (30/60/90ì¼)
  - ì£¼ë¬¸ëŸ‰ ì˜ˆì¸¡
  - íŠ¸ë˜í”½ ì˜ˆì¸¡
  - ì¬ê³  ìˆ˜ìš” ì˜ˆì¸¡
```

```python
# backend/src/services/analytics/prophet_forecaster.py
from prophet import Prophet
import pandas as pd

class BusinessProphetForecaster:
    def __init__(self):
        self.model = None
        self.holidays = self._load_korean_holidays()
    
    def forecast_gmv(self, history: pd.DataFrame, periods: int = 30) -> dict:
        # ëª¨ë¸ êµ¬ì„±
        self.model = Prophet(
            yearly_seasonality=True,
            weekly_seasonality=True,
            daily_seasonality=False,
            holidays=self.holidays,
            interval_width=0.95,  # 95% ì‹ ë¢°êµ¬ê°„
            changepoint_prior_scale=0.05,  # ë³€í™”ì  ë¯¼ê°ë„
        )
        
        # ì¶”ê°€ íšŒê·€ ë³€ìˆ˜
        self.model.add_regressor('promo_intensity')
        self.model.add_regressor('market_campaign')
        
        # í•™ìŠµ
        self.model.fit(history)
        
        # ë¯¸ë˜ ë°ì´í„°í”„ë ˆì„ ìƒì„±
        future = self.model.make_future_dataframe(periods=periods)
        future['promo_intensity'] = self._predict_promo(future['ds'])
        future['market_campaign'] = self._predict_campaigns(future['ds'])
        
        # ì˜ˆì¸¡
        forecast = self.model.predict(future)
        
        return {
            'predictions': forecast[['ds', 'yhat', 'yhat_lower', 'yhat_upper']].tail(periods).to_dict('records'),
            'components': {
                'trend': forecast['trend'].tolist(),
                'weekly': forecast['weekly'].tolist(),
                'yearly': forecast['yearly'].tolist(),
            },
            'changepoints': self.model.changepoints.tolist(),
            'accuracy_metrics': self._calculate_metrics(history, forecast),
        }
```

#### 2.2.3 Simple-statistics + Jstat (í†µê³„ ë¶„ì„)
```
íŒ¨í‚¤ì§€: simple-statistics, jstat
ìš©ë„: í†µê³„ ê³„ì‚°
ì¥ì :
  âœ… ìˆœìˆ˜ JS, ì˜ì¡´ì„± ì—†ìŒ
  âœ… ë¶„í¬, ê²€ì •, íšŒê·€ ë¶„ì„
  âœ… ê²½ëŸ‰ (ë²ˆë“¤ í¬ê¸° ìµœì†Œí™”)
ì ìš© ì˜ì—­:
  - A/B í…ŒìŠ¤íŠ¸ ìœ ì˜ì„± ê²€ì •
  - ì´ìƒì¹˜ íƒì§€ (Z-score, IQR)
  - ìƒê´€ê´€ê³„ ë¶„ì„
  - íšŒê·€ ë¶„ì„
```

```typescript
// ì˜ˆì‹œ: ê³ ê¸‰ í†µê³„ ë¶„ì„ ìœ í‹¸ë¦¬í‹°
import * as ss from 'simple-statistics';
import * as jstat from 'jstat';

class AdvancedStatisticsEngine {
  // ì´ìƒì¹˜ íƒì§€ (ì—¬ëŸ¬ ë°©ë²• ì•™ìƒë¸”)
  detectAnomalies(data: number[]): AnomalyResult[] {
    const zScores = this.calculateZScores(data);
    const iqrOutliers = this.detectIQROutliers(data);
    const mahalanobis = this.mahalanobisDistance(data);
    
    return data.map((value, idx) => ({
      index: idx,
      value,
      isAnomaly: 
        Math.abs(zScores[idx]) > 3 ||
        iqrOutliers.includes(idx) ||
        mahalanobis[idx] > this.chiSquareThreshold(0.001, 1),
      score: (Math.abs(zScores[idx]) / 3 + mahalanobis[idx] / 10) / 2,
      method: this.getAnomalyMethod(zScores[idx], iqrOutliers.includes(idx)),
    }));
  }
  
  // A/B í…ŒìŠ¤íŠ¸ ìœ ì˜ì„± ê²€ì •
  abTestSignificance(control: number[], treatment: number[]): ABTestResult {
    const meanControl = ss.mean(control);
    const meanTreatment = ss.mean(treatment);
    const pooledVar = ss.pooledVariance([control, treatment], [0, 1]);
    
    // t-ê²€ì •
    const tStat = (meanTreatment - meanControl) / 
                  Math.sqrt(pooledVar * (1/control.length + 1/treatment.length));
    const df = control.length + treatment.length - 2;
    const pValue = 2 * (1 - jstat.studentt.cdf(Math.abs(tStat), df));
    
    // íš¨ê³¼ í¬ê¸° (Cohen's d)
    const cohenD = (meanTreatment - meanControl) / Math.sqrt(pooledVar);
    
    // ì‹ ë¢°êµ¬ê°„
    const se = Math.sqrt(pooledVar * (1/control.length + 1/treatment.length));
    const ci95 = [
      (meanTreatment - meanControl) - 1.96 * se,
      (meanTreatment - meanControl) + 1.96 * se,
    ];
    
    return {
      controlMean: meanControl,
      treatmentMean: meanTreatment,
      lift: ((meanTreatment - meanControl) / meanControl) * 100,
      tStatistic: tStat,
      pValue,
      isSignificant: pValue < 0.05,
      effectSize: cohenD,
      effectSizeInterpretation: this.interpretCohenD(cohenD),
      confidenceInterval: ci95,
      sampleSizeRecommendation: this.calculateRequiredSampleSize(cohenD, 0.8, 0.05),
    };
  }
  
  // ì‹œê³„ì—´ ë¶„í•´ (STL)
  decomposeTimeSeries(data: number[], period: number): DecompositionResult {
    // LOESS ê¸°ë°˜ STL ë¶„í•´
    const trend = this.loessSmooth(data, Math.max(period * 1.5, 7));
    const detrended = data.map((v, i) => v - trend[i]);
    const seasonal = this.extractSeasonality(detrended, period);
    const residual = data.map((v, i) => v - trend[i] - seasonal[i % period]);
    
    return {
      trend,
      seasonal: Array(data.length).fill(0).map((_, i) => seasonal[i % period]),
      residual,
      strength: {
        trend: 1 - ss.variance(residual) / ss.variance(data.map((v, i) => v - seasonal[i % period])),
        seasonal: 1 - ss.variance(residual) / ss.variance(detrended),
      },
      seasonalIndices: seasonal,
    };
  }
}
```

### 2.3 ë°ì´í„° ì²˜ë¦¬ ìµœì í™” ìŠ¤íƒ

#### 2.3.1 Arquero (ê³ ì† ë°ì´í„° ì²˜ë¦¬)
```
íŒ¨í‚¤ì§€: arquero
ìš©ë„: ë¸Œë¼ìš°ì € ë‚´ ëŒ€ê·œëª¨ ë°ì´í„° ì²˜ë¦¬
ì¥ì :
  âœ… Apache Arrow ê¸°ë°˜ ê³ ì„±ëŠ¥
  âœ… Pandas/dplyr ìŠ¤íƒ€ì¼ API
  âœ… ì»¬ëŸ¼ë‚˜ ë°ì´í„° í¬ë§· (ìºì‹œ íš¨ìœ¨)
  âœ… ì§€ì—° í‰ê°€ (Lazy evaluation)
ì ìš© ì˜ì—­:
  - ëŒ€ê·œëª¨ ê³ ê° ë°ì´í„° ì§‘ê³„
  - ì‹¤ì‹œê°„ í•„í„°ë§/ì •ë ¬
  - ë³µì¡í•œ ì¡°ì¸/ê·¸ë£¹í™”
  - í”¼ë²— í…Œì´ë¸”
```

```typescript
// ì˜ˆì‹œ: Arquero ê¸°ë°˜ ê³ ì† ë°ì´í„° ë¶„ì„
import * as aq from 'arquero';

class HighPerformanceDataProcessor {
  // ê³ ê° RFM ì„¸ë¶„í™” (100ë§Œ+ ë ˆì½”ë“œ ì²˜ë¦¬)
  async calculateRFMSegments(orders: any[]): Promise<RFMResult> {
    const dt = aq.from(orders);
    
    const rfm = dt
      .derive({
        daysSinceOrder: aq.op.days_between(aq.op.now(), d => d.orderDate)
      })
      .groupby('customerId')
      .rollup({
        recency: d => aq.op.min(d.daysSinceOrder),
        frequency: d => aq.op.count(),
        monetary: d => aq.op.sum(d.amount),
        lastPurchase: d => aq.op.max(d.orderDate),
        avgOrderValue: d => aq.op.mean(d.amount),
      })
      .derive({
        recencyScore: aq.escape(d => this.scoreQuantile(d.recency, 'desc')),
        frequencyScore: aq.escape(d => this.scoreQuantile(d.frequency, 'asc')),
        monetaryScore: aq.escape(d => this.scoreQuantile(d.monetary, 'asc')),
      })
      .derive({
        rfmSegment: d => `${d.recencyScore}${d.frequencyScore}${d.monetaryScore}`,
        customerTier: aq.escape(d => this.assignTier(d.rfmSegment)),
      });
    
    // ì„¸ê·¸ë¨¼íŠ¸ë³„ í†µê³„
    const segmentStats = rfm
      .groupby('customerTier')
      .rollup({
        count: d => aq.op.count(),
        avgRecency: d => aq.op.mean(d.recency),
        avgFrequency: d => aq.op.mean(d.frequency),
        avgMonetary: d => aq.op.mean(d.monetary),
        totalRevenue: d => aq.op.sum(d.monetary),
      })
      .orderby(aq.desc('totalRevenue'));
    
    return {
      customers: rfm.objects(),
      segments: segmentStats.objects(),
      distribution: this.calculateDistribution(rfm),
    };
  }
  
  // ì½”í˜¸íŠ¸ ë¶„ì„ (í”¼ë²— + ì§‘ê³„)
  async calculateCohortRetention(orders: any[]): Promise<CohortResult> {
    const dt = aq.from(orders);
    
    const cohorts = dt
      .derive({
        orderMonth: d => aq.op.month(d.orderDate),
        orderYear: d => aq.op.year(d.orderDate),
      })
      .groupby('customerId')
      .derive({
        cohortMonth: d => aq.op.min(d.orderMonth),
        cohortYear: d => aq.op.min(d.orderYear),
      })
      .derive({
        monthsAfterJoin: d => 
          (d.orderYear - d.cohortYear) * 12 + (d.orderMonth - d.cohortMonth)
      })
      .groupby(['cohortYear', 'cohortMonth', 'monthsAfterJoin'])
      .rollup({
        uniqueCustomers: d => aq.op.distinct(d.customerId),
        revenue: d => aq.op.sum(d.amount),
      });
    
    // í”¼ë²— í…Œì´ë¸” ìƒì„±
    const pivoted = cohorts.pivot('monthsAfterJoin', 'uniqueCustomers');
    
    return {
      cohortTable: pivoted.objects(),
      retentionRates: this.calculateRetentionRates(pivoted),
      ltv: this.calculateCohortLTV(cohorts),
    };
  }
}
```

#### 2.3.2 Web Workers (ë³‘ë ¬ ì²˜ë¦¬)
```
íŒ¨í‚¤ì§€: comlink, workerize-loader
ìš©ë„: ë©”ì¸ ìŠ¤ë ˆë“œ ë¸”ë¡œí‚¹ ë°©ì§€
ì¥ì :
  âœ… UI ë°˜ì‘ì„± ìœ ì§€
  âœ… ë©€í‹°ì½”ì–´ í™œìš©
  âœ… ë°±ê·¸ë¼ìš´ë“œ ê³„ì‚°
ì ìš© ì˜ì—­:
  - ëŒ€ê·œëª¨ ë°ì´í„° ì§‘ê³„
  - ë³µì¡í•œ ì˜ˆì¸¡ ëª¨ë¸ ì‹¤í–‰
  - ì‹œê°í™” ë°ì´í„° ì „ì²˜ë¦¬
```

```typescript
// ì˜ˆì‹œ: Comlink ê¸°ë°˜ Web Worker ë¶„ì„
// analytics.worker.ts
import * as Comlink from 'comlink';
import * as aq from 'arquero';

const analyticsWorker = {
  async heavyAnalysis(data: any[], config: AnalysisConfig): Promise<AnalysisResult> {
    // ë©”ì¸ ìŠ¤ë ˆë“œ ë¸”ë¡œí‚¹ ì—†ì´ ë¬´ê±°ìš´ ê³„ì‚° ìˆ˜í–‰
    const dt = aq.from(data);
    
    const results = await Promise.all([
      this.calculateRFM(dt),
      this.detectAnomalies(dt),
      this.runClustering(dt),
      this.calculateForecasts(dt),
    ]);
    
    return {
      rfm: results[0],
      anomalies: results[1],
      clusters: results[2],
      forecasts: results[3],
    };
  },
};

Comlink.expose(analyticsWorker);

// ë©”ì¸ ìŠ¤ë ˆë“œì—ì„œ ì‚¬ìš©
const worker = new Worker(new URL('./analytics.worker.ts', import.meta.url));
const analytics = Comlink.wrap<typeof analyticsWorker>(worker);

// ë¹„ë™ê¸°ë¡œ ë¬´ê±°ìš´ ë¶„ì„ ì‹¤í–‰ (UI ë¸”ë¡œí‚¹ ì—†ìŒ)
const results = await analytics.heavyAnalysis(bigData, config);
```

#### 2.3.3 IndexedDB + Dexie (í´ë¼ì´ì–¸íŠ¸ ìºì‹±)
```
íŒ¨í‚¤ì§€: dexie, idb
ìš©ë„: ë¸Œë¼ìš°ì € ë‚´ ëŒ€ìš©ëŸ‰ ë°ì´í„° ì €ì¥
ì¥ì :
  âœ… GB ë‹¨ìœ„ ì €ì¥ ê°€ëŠ¥
  âœ… ì¸ë±ì‹±, ì¿¼ë¦¬ ì§€ì›
  âœ… ì˜¤í”„ë¼ì¸ ì§€ì›
ì ìš© ì˜ì—­:
  - ë¶„ì„ ê²°ê³¼ ìºì‹±
  - ì˜¤í”„ë¼ì¸ ëŒ€ì‹œë³´ë“œ
  - ëŒ€ìš©ëŸ‰ ë°ì´í„° ë¡œì»¬ ì €ì¥
```

```typescript
// ì˜ˆì‹œ: Dexie ê¸°ë°˜ ë¶„ì„ ìºì‹œ
import Dexie from 'dexie';

class AnalyticsCache extends Dexie {
  forecasts!: Dexie.Table<ForecastCache, string>;
  insights!: Dexie.Table<InsightCache, string>;
  rfmSegments!: Dexie.Table<RFMCache, string>;
  
  constructor() {
    super('BusinessBrainCache');
    this.version(1).stores({
      forecasts: 'id, metric, createdAt, expiresAt',
      insights: 'id, type, createdAt, priority',
      rfmSegments: 'customerId, segment, score, updatedAt',
    });
  }
  
  async getCachedForecast(metric: string, maxAge: number = 3600000): Promise<ForecastCache | null> {
    const cached = await this.forecasts
      .where('metric')
      .equals(metric)
      .and(item => Date.now() - item.createdAt < maxAge)
      .first();
    return cached || null;
  }
  
  async cacheForecasts(forecasts: ForecastCache[]): Promise<void> {
    await this.transaction('rw', this.forecasts, async () => {
      await this.forecasts.bulkPut(forecasts);
      // ë§Œë£Œëœ ìºì‹œ ì •ë¦¬
      await this.forecasts
        .where('expiresAt')
        .below(Date.now())
        .delete();
    });
  }
}
```

### 2.4 AI ì—ì´ì „íŠ¸ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜

#### 2.4.1 LangChain.js (AI ì—ì´ì „íŠ¸)
```
íŒ¨í‚¤ì§€: langchain, @langchain/openai
ìš©ë„: ë³µì¡í•œ AI ì›Œí¬í”Œë¡œìš° ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜
ì¥ì :
  âœ… ë©€í‹°ìŠ¤í… ì¶”ë¡  (Chain of Thought)
  âœ… ë„êµ¬ ì‚¬ìš© ì—ì´ì „íŠ¸
  âœ… ë©”ëª¨ë¦¬ ê´€ë¦¬
  âœ… êµ¬ì¡°í™”ëœ ì¶œë ¥
ì ìš© ì˜ì—­:
  - ìì—°ì–´ ì¿¼ë¦¬ â†’ ë¶„ì„ ì‹¤í–‰
  - ìë™ ì¸ì‚¬ì´íŠ¸ ìƒì„±
  - ì „ëµ ì¶”ì²œ
  - ë³´ê³ ì„œ ì‘ì„±
```

```typescript
// ì˜ˆì‹œ: LangChain ê¸°ë°˜ ê²½ì˜ ì¸ì‚¬ì´íŠ¸ ì—ì´ì „íŠ¸
import { ChatOpenAI } from "@langchain/openai";
import { AgentExecutor, createOpenAIFunctionsAgent } from "langchain/agents";
import { DynamicStructuredTool } from "@langchain/core/tools";
import { z } from "zod";

class BusinessInsightAgent {
  private agent: AgentExecutor;
  
  constructor() {
    const llm = new ChatOpenAI({
      modelName: "gpt-4-turbo-preview",
      temperature: 0.3,
    });
    
    const tools = [
      new DynamicStructuredTool({
        name: "analyze_revenue",
        description: "ë§¤ì¶œ ë°ì´í„°ë¥¼ ë¶„ì„í•˜ê³  íŠ¸ë Œë“œë¥¼ íŒŒì•…í•©ë‹ˆë‹¤",
        schema: z.object({
          startDate: z.string().describe("ì‹œì‘ì¼ (YYYY-MM-DD)"),
          endDate: z.string().describe("ì¢…ë£Œì¼ (YYYY-MM-DD)"),
          granularity: z.enum(["daily", "weekly", "monthly"]),
        }),
        func: async ({ startDate, endDate, granularity }) => {
          const result = await this.revenueAnalyzer.analyze(startDate, endDate, granularity);
          return JSON.stringify(result);
        },
      }),
      new DynamicStructuredTool({
        name: "predict_churn",
        description: "ì´íƒˆ ìœ„í—˜ ê³ ê°ì„ ì˜ˆì¸¡í•©ë‹ˆë‹¤",
        schema: z.object({
          threshold: z.number().describe("ìœ„í—˜ë„ ì„ê³„ê°’ (0-1)"),
          limit: z.number().optional().describe("ë°˜í™˜í•  ìµœëŒ€ ê³ ê° ìˆ˜"),
        }),
        func: async ({ threshold, limit }) => {
          const result = await this.churnPredictor.predict(threshold, limit);
          return JSON.stringify(result);
        },
      }),
      new DynamicStructuredTool({
        name: "compare_segments",
        description: "ê³ ê° ì„¸ê·¸ë¨¼íŠ¸ë¥¼ ë¹„êµ ë¶„ì„í•©ë‹ˆë‹¤",
        schema: z.object({
          segments: z.array(z.string()).describe("ë¹„êµí•  ì„¸ê·¸ë¨¼íŠ¸ ëª©ë¡"),
          metrics: z.array(z.string()).describe("ë¹„êµí•  ì§€í‘œ ëª©ë¡"),
        }),
        func: async ({ segments, metrics }) => {
          const result = await this.segmentAnalyzer.compare(segments, metrics);
          return JSON.stringify(result);
        },
      }),
      // ... ë” ë§ì€ ë„êµ¬
    ];
    
    this.agent = await createOpenAIFunctionsAgent({
      llm,
      tools,
      prompt: this.getSystemPrompt(),
    });
  }
  
  async processQuery(query: string, context: BusinessContext): Promise<InsightResponse> {
    const result = await this.agent.invoke({
      input: query,
      context: JSON.stringify(context),
    });
    
    return {
      answer: result.output,
      toolsUsed: result.intermediateSteps.map(s => s.action.tool),
      data: this.extractData(result),
      followUpQuestions: this.generateFollowUps(query, result),
    };
  }
  
  private getSystemPrompt() {
    return `ë‹¹ì‹ ì€ ë¹„ì¦ˆë‹ˆìŠ¤ ì¸í…”ë¦¬ì „ìŠ¤ ì „ë¬¸ê°€ì…ë‹ˆë‹¤. 
    ì‚¬ìš©ìì˜ ì§ˆë¬¸ì— ë‹µí•˜ê¸° ìœ„í•´ ì œê³µëœ ë„êµ¬ë¥¼ í™œìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ë¶„ì„í•˜ê³ ,
    ì‹¤í–‰ ê°€ëŠ¥í•œ ì¸ì‚¬ì´íŠ¸ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
    
    ë‹µë³€ ì‹œ ì£¼ì˜ì‚¬í•­:
    1. í•­ìƒ ë°ì´í„° ê¸°ë°˜ì˜ ê·¼ê±°ë¥¼ ì œì‹œí•˜ì„¸ìš”
    2. ë¶ˆí™•ì‹¤ì„±ì´ ìˆë‹¤ë©´ ì‹ ë¢° ìˆ˜ì¤€ì„ ëª…ì‹œí•˜ì„¸ìš”
    3. ê°€ëŠ¥í•˜ë©´ êµ¬ì²´ì ì¸ ì•¡ì…˜ì„ ì œì•ˆí•˜ì„¸ìš”
    4. ì¤‘ìš”í•œ ìˆ˜ì¹˜ëŠ” ê°•ì¡°í•˜ì„¸ìš”`;
  }
}
```

#### 2.4.2 ë²¡í„° ê²€ìƒ‰ (Semantic Search)
```
íŒ¨í‚¤ì§€: @pinecone-database/pinecone, hnswlib-node
ìš©ë„: ìœ ì‚¬ ì¸ì‚¬ì´íŠ¸/ì¼€ì´ìŠ¤ ê²€ìƒ‰
ì¥ì :
  âœ… ì‹œë§¨í‹± ê²€ìƒ‰ (ì˜ë¯¸ ê¸°ë°˜)
  âœ… ê³¼ê±° ìœ ì‚¬ ì‚¬ë¡€ ê²€ìƒ‰
  âœ… ì¶”ì²œ ì‹œìŠ¤í…œ
ì ìš© ì˜ì—­:
  - ê³¼ê±° ìœ ì‚¬ ìƒí™© ê²€ìƒ‰
  - ê´€ë ¨ ì¸ì‚¬ì´íŠ¸ ì¶”ì²œ
  - ë²¤ì¹˜ë§ˆí¬ ì¼€ì´ìŠ¤ ì°¾ê¸°
```

```typescript
// ì˜ˆì‹œ: ë²¡í„° ê²€ìƒ‰ ê¸°ë°˜ ìœ ì‚¬ ì¸ì‚¬ì´íŠ¸ ê²€ìƒ‰
import { Pinecone } from '@pinecone-database/pinecone';
import { OpenAIEmbeddings } from "@langchain/openai";

class InsightVectorSearch {
  private pinecone: Pinecone;
  private embeddings: OpenAIEmbeddings;
  
  async findSimilarInsights(query: string, k: number = 5): Promise<SimilarInsight[]> {
    // ì¿¼ë¦¬ ì„ë² ë”© ìƒì„±
    const queryEmbedding = await this.embeddings.embedQuery(query);
    
    // ë²¡í„° ê²€ìƒ‰
    const results = await this.pinecone.index('business-insights').query({
      vector: queryEmbedding,
      topK: k,
      includeMetadata: true,
    });
    
    return results.matches.map(match => ({
      id: match.id,
      similarity: match.score,
      insight: match.metadata.content,
      date: match.metadata.date,
      outcome: match.metadata.outcome,
      relatedActions: match.metadata.actions,
    }));
  }
  
  async findSimilarSituations(currentMetrics: BusinessMetrics): Promise<HistoricalCase[]> {
    // í˜„ì¬ ë¹„ì¦ˆë‹ˆìŠ¤ ìƒí™©ì„ ì„¤ëª…í•˜ëŠ” í…ìŠ¤íŠ¸ ìƒì„±
    const situationDescription = this.describeSituation(currentMetrics);
    
    // ìœ ì‚¬í•œ ì—­ì‚¬ì  ìƒí™© ê²€ìƒ‰
    const similarCases = await this.findSimilarInsights(situationDescription, 10);
    
    return similarCases.map(case_ => ({
      ...case_,
      successfulActions: this.extractSuccessfulActions(case_),
      lessonLearned: case_.insight.lessonLearned,
    }));
  }
}
```

### 2.5 ì‹¤ì‹œê°„ ë°ì´í„° ìŠ¤íŠ¸ë¦¬ë°

#### 2.5.1 Socket.io (ì–‘ë°©í–¥ ì‹¤ì‹œê°„ í†µì‹ )
```
íŒ¨í‚¤ì§€: socket.io, socket.io-client
ìš©ë„: ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œ ì—…ë°ì´íŠ¸
ì¥ì :
  âœ… ì–‘ë°©í–¥ í†µì‹ 
  âœ… ìë™ ì¬ì—°ê²°
  âœ… ë£¸/ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ì§€ì›
  âœ… í´ë°± (Long polling)
ì ìš© ì˜ì—­:
  - ì‹¤ì‹œê°„ KPI ì—…ë°ì´íŠ¸
  - ì‹¤ì‹œê°„ ê²½ë³´
  - ë¼ì´ë¸Œ ë¶„ì„ ê²°ê³¼
```

```typescript
// ì˜ˆì‹œ: Socket.io ê¸°ë°˜ ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œ
// backend: real-time-service.ts
import { Server } from 'socket.io';

class RealTimeBusinessService {
  private io: Server;
  private metricsCache: Map<string, any> = new Map();
  
  constructor(server: any) {
    this.io = new Server(server, {
      cors: { origin: '*' },
    });
    
    this.io.on('connection', (socket) => {
      console.log('Client connected:', socket.id);
      
      // êµ¬ë… ì„¤ì •
      socket.on('subscribe:metrics', (metrics: string[]) => {
        metrics.forEach(m => socket.join(`metric:${m}`));
        // í˜„ì¬ ìºì‹œëœ ë°ì´í„° ì „ì†¡
        this.sendCachedMetrics(socket, metrics);
      });
      
      socket.on('subscribe:alerts', () => {
        socket.join('alerts');
      });
    });
    
    // ì£¼ê¸°ì  ë©”íŠ¸ë¦­ ì—…ë°ì´íŠ¸ (5ì´ˆë§ˆë‹¤)
    setInterval(() => this.broadcastMetricUpdates(), 5000);
    
    // ê²½ë³´ ì²´í¬ (30ì´ˆë§ˆë‹¤)
    setInterval(() => this.checkAndBroadcastAlerts(), 30000);
  }
  
  private async broadcastMetricUpdates() {
    const metrics = await this.fetchLatestMetrics();
    
    for (const [key, value] of Object.entries(metrics)) {
      this.io.to(`metric:${key}`).emit('metric:update', {
        metric: key,
        value,
        timestamp: Date.now(),
        trend: this.calculateTrend(key, value),
      });
    }
  }
  
  private async checkAndBroadcastAlerts() {
    const alerts = await this.alertEngine.check();
    if (alerts.length > 0) {
      this.io.to('alerts').emit('alerts:new', alerts);
    }
  }
}

// frontend: useRealTimeMetrics.ts
import { useEffect, useState } from 'react';
import { io } from 'socket.io-client';

function useRealTimeMetrics(metrics: string[]) {
  const [data, setData] = useState<Record<string, MetricValue>>({});
  const [connected, setConnected] = useState(false);
  
  useEffect(() => {
    const socket = io(process.env.NEXT_PUBLIC_WS_URL);
    
    socket.on('connect', () => {
      setConnected(true);
      socket.emit('subscribe:metrics', metrics);
    });
    
    socket.on('metric:update', (update: MetricUpdate) => {
      setData(prev => ({
        ...prev,
        [update.metric]: {
          value: update.value,
          timestamp: update.timestamp,
          trend: update.trend,
        },
      }));
    });
    
    socket.on('disconnect', () => setConnected(false));
    
    return () => { socket.disconnect(); };
  }, [metrics]);
  
  return { data, connected };
}
```

### 2.6 ë³´ê³ ì„œ ìƒì„± ë„êµ¬

#### 2.6.1 PDF ìƒì„± (jsPDF + html2canvas)
```
íŒ¨í‚¤ì§€: jspdf, html2canvas
ìš©ë„: ë¶„ì„ ê²°ê³¼ PDF ë‚´ë³´ë‚´ê¸°
ì¥ì :
  âœ… í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ìƒì„±
  âœ… ì°¨íŠ¸ ì´ë¯¸ì§€ í¬í•¨
  âœ… ì»¤ìŠ¤í…€ ë ˆì´ì•„ì›ƒ
```

```typescript
// ì˜ˆì‹œ: ê³ ê¸‰ ë³´ê³ ì„œ ìƒì„±ê¸°
import jsPDF from 'jspdf';
import html2canvas from 'html2canvas';

class AdvancedReportGenerator {
  async generateExecutiveReport(
    data: ReportData,
    options: ReportOptions
  ): Promise<Blob> {
    const pdf = new jsPDF({
      orientation: 'portrait',
      unit: 'mm',
      format: 'a4',
    });
    
    // í‘œì§€
    await this.addCoverPage(pdf, data.title, data.date);
    
    // ëª©ì°¨
    pdf.addPage();
    this.addTableOfContents(pdf, data.sections);
    
    // ê²½ì˜ì§„ ìš”ì•½
    pdf.addPage();
    await this.addExecutiveSummary(pdf, data.summary);
    
    // í•µì‹¬ ì§€í‘œ ëŒ€ì‹œë³´ë“œ (ìº¡ì²˜)
    pdf.addPage();
    const dashboardElement = document.getElementById('kpi-dashboard');
    const dashboardCanvas = await html2canvas(dashboardElement!, { scale: 2 });
    pdf.addImage(dashboardCanvas.toDataURL('image/png'), 'PNG', 10, 30, 190, 100);
    
    // ìƒì„¸ ë¶„ì„ ì„¹ì…˜ë“¤
    for (const section of data.sections) {
      pdf.addPage();
      await this.addAnalysisSection(pdf, section);
    }
    
    // ì•¡ì…˜ ì•„ì´í…œ
    pdf.addPage();
    await this.addActionItems(pdf, data.actions);
    
    // ë¶€ë¡ (ë°ì´í„° í…Œì´ë¸”)
    if (options.includeAppendix) {
      pdf.addPage();
      await this.addDataAppendix(pdf, data.tables);
    }
    
    return pdf.output('blob');
  }
  
  private async addExecutiveSummary(pdf: jsPDF, summary: ExecutiveSummary) {
    pdf.setFontSize(18);
    pdf.text('ê²½ì˜ì§„ ìš”ì•½', 20, 20);
    
    pdf.setFontSize(11);
    let y = 35;
    
    // í•µì‹¬ ë°œê²¬
    pdf.setFontSize(14);
    pdf.text('í•µì‹¬ ë°œê²¬', 20, y);
    y += 10;
    
    for (const finding of summary.keyFindings) {
      const icon = finding.sentiment === 'positive' ? 'âœ…' : 
                   finding.sentiment === 'negative' ? 'âš ï¸' : 'ğŸ“Š';
      pdf.setFontSize(10);
      pdf.text(`${icon} ${finding.text}`, 25, y);
      y += 8;
    }
    
    // ê¶Œì¥ ì•¡ì…˜
    y += 10;
    pdf.setFontSize(14);
    pdf.text('ê¶Œì¥ ì•¡ì…˜', 20, y);
    y += 10;
    
    for (const action of summary.recommendedActions) {
      const priority = action.priority === 'high' ? 'ğŸ”´' : 
                       action.priority === 'medium' ? 'ğŸŸ¡' : 'ğŸŸ¢';
      pdf.setFontSize(10);
      pdf.text(`${priority} ${action.description}`, 25, y);
      pdf.text(`ì˜ˆìƒ íš¨ê³¼: ${action.expectedImpact}`, 30, y + 5);
      y += 15;
    }
  }
}
```

#### 2.6.2 Excel ë‚´ë³´ë‚´ê¸° (ExcelJS)
```
íŒ¨í‚¤ì§€: exceljs
ìš©ë„: ìƒì„¸ ë°ì´í„° Excel ë‚´ë³´ë‚´ê¸°
ì¥ì :
  âœ… ì„œì‹, ì°¨íŠ¸ ì§€ì›
  âœ… ì—¬ëŸ¬ ì‹œíŠ¸
  âœ… ìˆ˜ì‹ ì§€ì›
```

```typescript
// ì˜ˆì‹œ: Excel ë¶„ì„ ë³´ê³ ì„œ ìƒì„±
import ExcelJS from 'exceljs';

class ExcelReportGenerator {
  async generateAnalysisWorkbook(data: AnalysisData): Promise<Blob> {
    const workbook = new ExcelJS.Workbook();
    workbook.created = new Date();
    workbook.creator = 'Business Brain';
    
    // ëŒ€ì‹œë³´ë“œ ì‹œíŠ¸
    const dashboard = workbook.addWorksheet('ëŒ€ì‹œë³´ë“œ', {
      views: [{ state: 'frozen', xSplit: 0, ySplit: 1 }],
    });
    this.addDashboardSheet(dashboard, data.kpis);
    
    // ë§¤ì¶œ ë¶„ì„ ì‹œíŠ¸
    const revenue = workbook.addWorksheet('ë§¤ì¶œ ë¶„ì„');
    this.addRevenueSheet(revenue, data.revenue);
    this.addSparklineChart(revenue, data.revenue.trend);
    
    // ê³ ê° ë¶„ì„ ì‹œíŠ¸
    const customers = workbook.addWorksheet('ê³ ê° ë¶„ì„');
    this.addCustomerSheet(customers, data.customers);
    
    // ì˜ˆì¸¡ ì‹œíŠ¸
    const forecast = workbook.addWorksheet('ì˜ˆì¸¡');
    this.addForecastSheet(forecast, data.forecasts);
    
    // í”¼ë²— í…Œì´ë¸” ë°ì´í„° ì‹œíŠ¸
    const rawData = workbook.addWorksheet('ì›ë³¸ ë°ì´í„°');
    this.addRawDataSheet(rawData, data.raw);
    
    const buffer = await workbook.xlsx.writeBuffer();
    return new Blob([buffer], { 
      type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' 
    });
  }
  
  private addDashboardSheet(sheet: ExcelJS.Worksheet, kpis: KPIData[]) {
    // í—¤ë” ìŠ¤íƒ€ì¼
    const headerStyle = {
      font: { bold: true, color: { argb: 'FFFFFF' } },
      fill: { type: 'pattern', pattern: 'solid', fgColor: { argb: 'FF4472C4' } },
      alignment: { horizontal: 'center' },
    };
    
    // KPI ì¹´ë“œ í˜•ì‹ìœ¼ë¡œ ë°°ì¹˜
    let col = 1;
    for (const kpi of kpis) {
      sheet.getCell(1, col).value = kpi.name;
      sheet.getCell(1, col).style = headerStyle;
      sheet.getCell(2, col).value = kpi.value;
      sheet.getCell(2, col).numFmt = kpi.format;
      sheet.getCell(3, col).value = kpi.change;
      sheet.getCell(3, col).font = { 
        color: { argb: kpi.change >= 0 ? 'FF00B050' : 'FFFF0000' } 
      };
      col += 2;
    }
    
    // ì¡°ê±´ë¶€ ì„œì‹
    sheet.addConditionalFormatting({
      ref: 'A3:J3',
      rules: [
        {
          type: 'cellIs',
          operator: 'lessThan',
          formulae: [0],
          style: { font: { color: { argb: 'FFFF0000' } } },
        },
      ],
    });
  }
}
```

---

## 3. í˜ì‹  ë¹„ì „: "Minority Report for Business"

### 2.1 ë¹„ì „ ì„ ì–¸

> **"ë¹„ì¦ˆë‹ˆìŠ¤ ë¬¸ì œê°€ ë°œìƒí•˜ê¸° ì „ì— ì˜ˆì¸¡í•˜ê³ , ê¸°íšŒê°€ ì‚¬ë¼ì§€ê¸° ì „ì— í¬ì°©í•˜ë©°, 
> ì˜ì‚¬ê²°ì •ì˜ ê²°ê³¼ë¥¼ ë¯¸ë¦¬ ì‹œë®¬ë ˆì´ì…˜í•˜ì—¬ ìµœì ì˜ ê²½ì˜ ì „ëµì„ ì œì‹œí•˜ëŠ” 
> ì˜ˆì¸¡ì  ê²½ì˜ ì¸í…”ë¦¬ì „ìŠ¤ ì‹œìŠ¤í…œ"**

### 2.2 í•µì‹¬ íŒ¨ëŸ¬ë‹¤ì„ ì „í™˜

```
í˜„ì¬ (Descriptive + Diagnostic)
"ë¬´ì—‡ì´ ì¼ì–´ë‚¬ê³ , ì™œ ì¼ì–´ë‚¬ëŠ”ê°€?"
     â†“
ëª©í‘œ (Predictive + Prescriptive)
"ë¬´ì—‡ì´ ì¼ì–´ë‚  ê²ƒì´ë©°, ì–´ë–»ê²Œ ëŒ€ì‘í•´ì•¼ í•˜ëŠ”ê°€?"
```

### 2.3 ì°¨ë³„í™” í¬ì¸íŠ¸

| ì˜ì—­ | í˜„ì¬ | ëª©í‘œ |
|------|------|------|
| **ì˜ˆì¸¡** | ë‹¨ìˆœ íŠ¸ë Œë“œ ì¶”ì • | í™•ë¥ ì  ì‹œë‚˜ë¦¬ì˜¤ ì˜ˆì¸¡ |
| **ì¸ì‚¬ì´íŠ¸** | ë°œê²¬ í›„ ì•Œë¦¼ | ë°œìƒ ì „ ì˜ˆì¸¡ ê²½ë³´ |
| **ì•¡ì…˜** | ì œì•ˆ ëª©ë¡ | ìë™í™”ëœ ì‹¤í–‰ + ê²°ê³¼ ì¶”ì  |
| **ì˜ì‚¬ê²°ì •** | ë°ì´í„° ì œê³µ | ì‹œë®¬ë ˆì´ì…˜ ê¸°ë°˜ ê¶Œê³  |
| **UX** | ë¶„ì„ ë„êµ¬ | ê²½ì˜ ë¹„ì„œ ì¸í„°í˜ì´ìŠ¤ |

---

## 3. í•µì‹¬ ê°œì„  ëª¨ë“ˆ ì„¤ê³„

### 3.1 Module 1: ì˜ˆì¸¡ ì •í™•ë„ í˜ì‹  ì‹œìŠ¤í…œ

#### 3.1.1 ë‹¤ì¤‘ ëª¨ë¸ ì•™ìƒë¸” ì˜ˆì¸¡

```typescript
// backend/src/services/analytics/AdvancedForecastEngine.ts

interface ForecastModel {
  name: string
  weight: number
  predict: (data: TimeSeries) => Prediction
  evaluate: (actual: number[], predicted: number[]) => ModelMetrics
}

class AdvancedForecastEngine {
  private models: ForecastModel[] = [
    new ARIMAModel(),           // ì‹œê³„ì—´ ìê¸°íšŒê·€
    new ProphetModel(),         // ê³„ì ˆì„± + íŠ¸ë Œë“œ + íœ´ì¼
    new LSTMModel(),            // ë”¥ëŸ¬ë‹ ê¸°ë°˜
    new XGBoostModel(),         // ê·¸ë˜ë””ì–¸íŠ¸ ë¶€ìŠ¤íŒ…
  ]
  
  async forecast(data: any[], days: number): Promise<EnhancedForecast> {
    // 1. ê° ëª¨ë¸ë³„ ì˜ˆì¸¡
    const predictions = await Promise.all(
      this.models.map(m => m.predict(data))
    )
    
    // 2. ëª¨ë¸ ì„±ëŠ¥ ê¸°ë°˜ ê°€ì¤‘ì¹˜ ì¡°ì •
    const weights = this.calculateDynamicWeights()
    
    // 3. ì•™ìƒë¸” ê²°í•©
    const ensemble = this.combineEnsemble(predictions, weights)
    
    // 4. ì‹ ë¢° êµ¬ê°„ ê³„ì‚° (Bootstrap)
    const confidenceIntervals = this.bootstrapCI(ensemble)
    
    // 5. ì˜ˆì¸¡ ê·¼ê±° ì„¤ëª… ìƒì„±
    const explanation = this.generateExplanation(ensemble)
    
    return {
      predictions: ensemble.values,
      confidenceIntervals: {
        lower95: confidenceIntervals.lower,
        upper95: confidenceIntervals.upper,
        lower80: confidenceIntervals.lower80,
        upper80: confidenceIntervals.upper80,
      },
      modelContributions: this.getModelContributions(),
      accuracy: {
        mape: ensemble.metrics.mape,
        rmse: ensemble.metrics.rmse,
        r2: ensemble.metrics.r2,
      },
      explanation,
    }
  }
}
```

#### 3.1.2 ì˜ˆì¸¡ ì„±ê³¼ ì¶”ì  ì‹œìŠ¤í…œ

```typescript
// backend/src/services/analytics/ForecastTracker.ts

interface ForecastRecord {
  id: string
  createdAt: Date
  metric: string
  period: { start: Date, end: Date }
  predicted: number
  confidence: number
  confidenceInterval: { lower: number, upper: number }
}

interface ForecastEvaluation {
  record: ForecastRecord
  actual: number
  error: number
  absoluteError: number
  withinCI: boolean
}

class ForecastTracker {
  // ì˜ˆì¸¡ ê¸°ë¡ ì €ì¥
  async saveForecast(forecast: ForecastRecord): Promise<void>
  
  // ì˜ˆì¸¡ vs ì‹¤ì œ ë¹„êµ
  async evaluateForecasts(period: DateRange): Promise<ForecastEvaluation[]>
  
  // ëª¨ë¸ ì •í™•ë„ ëŒ€ì‹œë³´ë“œ
  async getAccuracyDashboard(): Promise<{
    overallMAPE: number
    byMetric: Record<string, { mape: number, bias: number }>
    trend: { date: string, accuracy: number }[]
    recommendations: string[]
  }>
}
```

### 3.2 Module 2: ì˜ˆì¸¡ì  ê²½ë³´ ì‹œìŠ¤í…œ (Predictive Alerts)

#### 3.2.1 ì´ìƒ ì§•í›„ ì¡°ê¸° ê°ì§€

```typescript
// backend/src/services/analytics/PredictiveAlertEngine.ts

interface AlertConfig {
  metric: string
  thresholds: {
    warning: number
    critical: number
  }
  predictionHorizon: number // ë©°ì¹  ì•ì„ ì˜ˆì¸¡í• ì§€
  confidenceThreshold: number
}

interface PredictiveAlert {
  id: string
  type: 'warning' | 'critical'
  category: 'revenue' | 'customer' | 'artist' | 'operations'
  title: string
  description: string
  probability: number
  expectedDate: Date
  currentValue: number
  predictedValue: number
  impactAssessment: {
    metric: string
    potentialLoss: number
    affectedCustomers: number
  }
  recommendedActions: Array<{
    action: string
    priority: 'immediate' | 'high' | 'medium'
    expectedEffect: string
    effort: 'low' | 'medium' | 'high'
  }>
  relatedInsights: string[]
}

class PredictiveAlertEngine {
  private alertConfigs: AlertConfig[] = [
    {
      metric: 'gmv',
      thresholds: { warning: -15, critical: -30 },
      predictionHorizon: 7,
      confidenceThreshold: 0.7,
    },
    {
      metric: 'churn_rate',
      thresholds: { warning: 20, critical: 35 },
      predictionHorizon: 14,
      confidenceThreshold: 0.75,
    },
    {
      metric: 'vip_engagement',
      thresholds: { warning: -20, critical: -40 },
      predictionHorizon: 7,
      confidenceThreshold: 0.7,
    },
    // ... ë” ë§ì€ ì„¤ì •
  ]
  
  async generatePredictiveAlerts(): Promise<PredictiveAlert[]> {
    const alerts: PredictiveAlert[] = []
    
    for (const config of this.alertConfigs) {
      // 1. ë¯¸ë˜ ì˜ˆì¸¡
      const forecast = await this.forecastEngine.predict(config.metric, config.predictionHorizon)
      
      // 2. ì„ê³„ê°’ ì´ˆê³¼ ì˜ˆì¸¡ ì‹œ ê²½ë³´ ìƒì„±
      if (forecast.confidence >= config.confidenceThreshold) {
        const exceedsWarning = this.checkThresholdExceedance(forecast, config.thresholds.warning)
        const exceedsCritical = this.checkThresholdExceedance(forecast, config.thresholds.critical)
        
        if (exceedsWarning || exceedsCritical) {
          // 3. ì›ì¸ ë¶„ì„
          const rootCause = await this.analyzeRootCause(config.metric, forecast)
          
          // 4. ì˜í–¥ í‰ê°€
          const impact = await this.assessImpact(config.metric, forecast)
          
          // 5. ì•¡ì…˜ ì œì•ˆ
          const actions = await this.generateActions(rootCause, impact)
          
          alerts.push({
            type: exceedsCritical ? 'critical' : 'warning',
            // ... ë‚˜ë¨¸ì§€ í•„ë“œ
          })
        }
      }
    }
    
    return this.prioritizeAlerts(alerts)
  }
}
```

#### 3.2.2 ì‹¤ì‹œê°„ ì•Œë¦¼ ì‹œìŠ¤í…œ

```typescript
// backend/src/services/notifications/AlertNotificationService.ts

interface NotificationChannel {
  type: 'email' | 'slack' | 'push' | 'sms'
  config: Record<string, any>
  send: (alert: PredictiveAlert) => Promise<void>
}

interface NotificationRule {
  alertType: 'warning' | 'critical'
  category: string[]
  channels: NotificationChannel[]
  recipients: string[]
  cooldown: number // ê°™ì€ ê²½ë³´ ì¬ë°œì†¡ ë°©ì§€ (ë¶„)
}

class AlertNotificationService {
  private rules: NotificationRule[]
  private sentAlerts: Map<string, Date> = new Map()
  
  async processAlert(alert: PredictiveAlert): Promise<void> {
    // 1. í•´ë‹¹í•˜ëŠ” ê·œì¹™ ì°¾ê¸°
    const applicableRules = this.findApplicableRules(alert)
    
    // 2. ì¿¨ë‹¤ìš´ ì²´í¬
    if (this.isInCooldown(alert.id)) return
    
    // 3. ì•Œë¦¼ ë°œì†¡
    for (const rule of applicableRules) {
      for (const channel of rule.channels) {
        await channel.send(alert)
      }
    }
    
    // 4. ë°œì†¡ ê¸°ë¡
    this.sentAlerts.set(alert.id, new Date())
  }
  
  // Slack ì›¹í›… ì—°ë™
  private async sendSlackAlert(alert: PredictiveAlert): Promise<void> {
    const blocks = this.formatSlackBlocks(alert)
    await fetch(process.env.SLACK_WEBHOOK_URL, {
      method: 'POST',
      body: JSON.stringify({ blocks }),
    })
  }
}
```

### 3.3 Module 3: ì§€ëŠ¥í˜• ì˜ì‚¬ê²°ì • ì§€ì› ì‹œìŠ¤í…œ

#### 3.3.1 ì‹œë‚˜ë¦¬ì˜¤ ì‹œë®¬ë ˆì´ì…˜ ì—”ì§„ ê°•í™”

```typescript
// backend/src/services/analytics/AdvancedSimulator.ts

interface SimulationScenario {
  id: string
  name: string
  type: 'what_if' | 'stress_test' | 'optimization'
  variables: Array<{
    name: string
    baseValue: number
    distribution: 'normal' | 'uniform' | 'triangular'
    params: Record<string, number>
  }>
  constraints: Array<{
    variable: string
    type: 'min' | 'max' | 'range'
    value: number | [number, number]
  }>
  objectives: Array<{
    metric: string
    direction: 'maximize' | 'minimize'
    weight: number
  }>
}

interface SimulationResult {
  scenario: SimulationScenario
  iterations: number
  results: {
    mean: Record<string, number>
    median: Record<string, number>
    percentiles: Record<string, { p5: number, p25: number, p75: number, p95: number }>
    distribution: Record<string, number[]>
  }
  sensitivity: Array<{
    variable: string
    impact: number
    elasticity: number
    ranking: number
  }>
  riskMetrics: {
    valueAtRisk: number // 95% VaR
    conditionalVaR: number // CVaR
    probabilityOfLoss: number
  }
  recommendations: Array<{
    type: 'optimization' | 'risk_mitigation' | 'opportunity'
    description: string
    expectedImpact: number
    confidence: number
  }>
}

class AdvancedSimulator {
  // ëª¬í…Œì¹´ë¥¼ë¡œ ì‹œë®¬ë ˆì´ì…˜
  async runMonteCarloSimulation(
    scenario: SimulationScenario,
    iterations: number = 10000
  ): Promise<SimulationResult> {
    const results: number[][] = []
    
    for (let i = 0; i < iterations; i++) {
      // ë³€ìˆ˜ë³„ ìƒ˜í”Œë§
      const sample = this.sampleVariables(scenario.variables)
      
      // ì œì•½ ì¡°ê±´ ì ìš©
      const constrained = this.applyConstraints(sample, scenario.constraints)
      
      // ê²°ê³¼ ê³„ì‚°
      const outcome = await this.calculateOutcome(constrained)
      results.push(outcome)
    }
    
    return this.analyzeSimulationResults(results, scenario)
  }
  
  // ë¯¼ê°ë„ ë¶„ì„
  async runSensitivityAnalysis(
    scenario: SimulationScenario
  ): Promise<SensitivityAnalysis> {
    const baseCase = await this.calculateOutcome(scenario.variables.map(v => v.baseValue))
    const sensitivities = []
    
    for (const variable of scenario.variables) {
      // Â±10% ë³€í™” ì‹œ ì˜í–¥ ì¸¡ì •
      const lowCase = await this.calculateOutcome(
        this.adjustVariable(scenario.variables, variable.name, -0.1)
      )
      const highCase = await this.calculateOutcome(
        this.adjustVariable(scenario.variables, variable.name, 0.1)
      )
      
      sensitivities.push({
        variable: variable.name,
        impact: (highCase[0] - lowCase[0]) / (2 * 0.1 * variable.baseValue),
        elasticity: ((highCase[0] - baseCase[0]) / baseCase[0]) / 0.1,
      })
    }
    
    return { sensitivities, tornado: this.generateTornadoChart(sensitivities) }
  }
  
  // ìµœì í™”
  async findOptimalStrategy(
    scenario: SimulationScenario
  ): Promise<OptimizationResult> {
    // ìœ ì „ ì•Œê³ ë¦¬ì¦˜ ê¸°ë°˜ ìµœì í™”
    const population = this.initializePopulation(scenario)
    
    for (let gen = 0; gen < 100; gen++) {
      const fitness = await Promise.all(
        population.map(ind => this.evaluateFitness(ind, scenario))
      )
      
      const selected = this.selection(population, fitness)
      const offspring = this.crossoverAndMutate(selected)
      population.splice(0, population.length, ...offspring)
    }
    
    return this.extractBestSolution(population, scenario)
  }
}
```

#### 3.3.2 ì˜ì‚¬ê²°ì • ë§¤íŠ¸ë¦­ìŠ¤

```typescript
// backend/src/services/analytics/DecisionMatrix.ts

interface DecisionOption {
  id: string
  name: string
  description: string
  category: 'growth' | 'efficiency' | 'risk_mitigation' | 'innovation'
  implementation: {
    effort: 'low' | 'medium' | 'high'
    timeline: string
    cost: number
    resources: string[]
  }
  expectedOutcomes: Array<{
    metric: string
    impact: number // % change
    probability: number
    timeToRealize: string
  }>
  risks: Array<{
    description: string
    probability: number
    impact: number
    mitigation: string
  }>
}

interface DecisionAnalysis {
  options: DecisionOption[]
  comparison: {
    matrix: Array<{
      option: string
      roi: number
      riskAdjustedReturn: number
      timeToBreakeven: number
      strategicAlignment: number
      overallScore: number
    }>
    recommendation: {
      primary: string
      rationale: string
      alternatives: string[]
      warnings: string[]
    }
  }
  tradeoffs: Array<{
    option1: string
    option2: string
    tradeoffDescription: string
    breakEvenPoint: Record<string, number>
  }>
}

class DecisionMatrixEngine {
  async analyzeDecisionOptions(
    options: DecisionOption[],
    businessContext: BusinessContext
  ): Promise<DecisionAnalysis> {
    // 1. ê° ì˜µì…˜ë³„ ê¸°ëŒ€ ìˆ˜ìµ ê³„ì‚°
    const expectedReturns = await Promise.all(
      options.map(opt => this.calculateExpectedReturn(opt))
    )
    
    // 2. ë¦¬ìŠ¤í¬ ì¡°ì • ìˆ˜ìµë¥  ê³„ì‚°
    const riskAdjusted = options.map((opt, idx) => 
      this.calculateRiskAdjustedReturn(opt, expectedReturns[idx])
    )
    
    // 3. ì „ëµì  ì •í•©ì„± í‰ê°€
    const strategicAlignment = options.map(opt =>
      this.evaluateStrategicAlignment(opt, businessContext)
    )
    
    // 4. ì¢…í•© ì ìˆ˜ ì‚°ì¶œ
    const scores = this.calculateOverallScores(
      expectedReturns, riskAdjusted, strategicAlignment
    )
    
    // 5. ì¶”ì²œ ìƒì„±
    const recommendation = this.generateRecommendation(options, scores)
    
    return {
      options,
      comparison: {
        matrix: this.buildComparisonMatrix(options, scores),
        recommendation,
      },
      tradeoffs: this.analyzeTradeoffs(options),
    }
  }
}
```

### 3.4 Module 4: ëª©í‘œ ê¸°ë°˜ ê²½ì˜ ëŒ€ì‹œë³´ë“œ

#### 3.4.1 OKR/KPI ì¶”ì  ì‹œìŠ¤í…œ

```typescript
// backend/src/services/analytics/GoalTracker.ts

interface BusinessGoal {
  id: string
  name: string
  type: 'okr' | 'kpi' | 'milestone'
  category: 'revenue' | 'growth' | 'efficiency' | 'quality'
  target: {
    value: number
    unit: string
    deadline: Date
  }
  baseline: {
    value: number
    date: Date
  }
  milestones: Array<{
    date: Date
    expectedValue: number
  }>
  owner: string
  status: 'on_track' | 'at_risk' | 'behind' | 'achieved'
}

interface GoalProgress {
  goal: BusinessGoal
  current: {
    value: number
    date: Date
  }
  progress: number // 0-100%
  trend: 'accelerating' | 'on_pace' | 'slowing' | 'declining'
  forecast: {
    predictedFinalValue: number
    achievementProbability: number
    predictedDate: Date | null
  }
  insights: Array<{
    type: 'positive' | 'negative' | 'neutral'
    message: string
    suggestedAction?: string
  }>
}

class GoalTracker {
  async trackGoalProgress(goals: BusinessGoal[]): Promise<GoalProgress[]> {
    return Promise.all(goals.map(async goal => {
      // 1. í˜„ì¬ ê°’ ì¡°íšŒ
      const currentValue = await this.getCurrentValue(goal)
      
      // 2. ì§„í–‰ë¥  ê³„ì‚°
      const progress = this.calculateProgress(goal, currentValue)
      
      // 3. íŠ¸ë Œë“œ ë¶„ì„
      const trend = await this.analyzeTrend(goal)
      
      // 4. ì˜ˆì¸¡
      const forecast = await this.forecastGoalAchievement(goal, currentValue, trend)
      
      // 5. ì¸ì‚¬ì´íŠ¸ ìƒì„±
      const insights = this.generateGoalInsights(goal, progress, trend, forecast)
      
      return {
        goal,
        current: { value: currentValue, date: new Date() },
        progress,
        trend,
        forecast,
        insights,
      }
    }))
  }
  
  // ëª©í‘œ ë‹¬ì„±ì„ ìœ„í•œ ì•¡ì…˜ ì¶”ì²œ
  async recommendActionsForGoal(goal: BusinessGoal): Promise<ActionRecommendation[]> {
    const progress = await this.trackGoalProgress([goal])
    const gap = goal.target.value - progress[0].current.value
    
    // ê°­ì„ ë©”ìš°ê¸° ìœ„í•œ ì•¡ì…˜ ë¶„ì„
    const possibleActions = await this.identifyPossibleActions(goal.category)
    const scoredActions = possibleActions.map(action => ({
      ...action,
      impactOnGoal: this.estimateImpactOnGoal(action, goal),
      feasibility: this.assessFeasibility(action),
      priority: this.calculatePriority(action, gap),
    }))
    
    return scoredActions.sort((a, b) => b.priority - a.priority)
  }
}
```

#### 3.4.2 ì‹¤ì‹œê°„ ê²½ì˜ ëŒ€ì‹œë³´ë“œ

```typescript
// frontend/components/business-brain/CommandCenterDashboard.tsx

interface CommandCenterProps {
  userId: string
  refreshInterval: number // ì´ˆ
}

const CommandCenterDashboard: React.FC<CommandCenterProps> = ({
  userId,
  refreshInterval,
}) => {
  // ì‹¤ì‹œê°„ ë°ì´í„° êµ¬ë…
  const { data: liveMetrics } = useQuery({
    queryKey: ['live-metrics'],
    queryFn: () => businessBrainApi.getLiveMetrics(),
    refetchInterval: refreshInterval * 1000,
  })
  
  const { data: alerts } = useQuery({
    queryKey: ['predictive-alerts'],
    queryFn: () => businessBrainApi.getPredictiveAlerts(),
    refetchInterval: 60000, // 1ë¶„
  })
  
  const { data: goalProgress } = useQuery({
    queryKey: ['goal-progress'],
    queryFn: () => businessBrainApi.getGoalProgress(),
    refetchInterval: 300000, // 5ë¶„
  })
  
  return (
    <div className="grid grid-cols-12 gap-4 p-6">
      {/* í•µì‹¬ ì§€í‘œ - ëŒ€í˜• ì¹´ë“œ */}
      <div className="col-span-12 lg:col-span-8">
        <LiveMetricsPanel metrics={liveMetrics} />
      </div>
      
      {/* ê²½ë³´ íŒ¨ë„ */}
      <div className="col-span-12 lg:col-span-4">
        <AlertsPanel alerts={alerts} />
      </div>
      
      {/* ëª©í‘œ ì§„í–‰ ìƒí™© */}
      <div className="col-span-12">
        <GoalProgressStrip goals={goalProgress} />
      </div>
      
      {/* ì˜ˆì¸¡ ì°¨íŠ¸ */}
      <div className="col-span-12 lg:col-span-6">
        <PredictionChart />
      </div>
      
      {/* AI ì–´ì‹œìŠ¤í„´íŠ¸ */}
      <div className="col-span-12 lg:col-span-6">
        <AIAssistantPanel />
      </div>
    </div>
  )
}
```

### 3.5 Module 5: ìì—°ì–´ ê²½ì˜ ë¹„ì„œ ì¸í„°í˜ì´ìŠ¤

#### 3.5.1 ëŒ€í™”í˜• ë¶„ì„ ì¸í„°í˜ì´ìŠ¤

```typescript
// backend/src/services/agents/ConversationalBrainAgent.ts

interface ConversationContext {
  sessionId: string
  userId: string
  history: Array<{
    role: 'user' | 'assistant'
    content: string
    timestamp: Date
    data?: any
  }>
  currentFocus?: {
    entity: string // 'revenue', 'customer', 'artist', 'product'
    entityId?: string
    timeRange?: DateRange
  }
  preferences: {
    detailLevel: 'summary' | 'detailed' | 'comprehensive'
    visualPreference: 'charts' | 'tables' | 'both'
    language: 'ko' | 'en'
  }
}

class ConversationalBrainAgent extends BusinessBrainAgent {
  private conversationContext: Map<string, ConversationContext> = new Map()
  
  async processNaturalLanguageQuery(
    sessionId: string,
    query: string
  ): Promise<ConversationResponse> {
    const context = this.getOrCreateContext(sessionId)
    
    // 1. ì˜ë„ íŒŒì•…
    const intent = await this.classifyIntent(query)
    
    // 2. ì—”í‹°í‹° ì¶”ì¶œ
    const entities = await this.extractEntities(query)
    
    // 3. ì»¨í…ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸
    this.updateContext(context, intent, entities)
    
    // 4. ì ì ˆí•œ ë¶„ì„ ì‹¤í–‰
    const analysisResult = await this.executeAnalysis(intent, entities, context)
    
    // 5. ìì—°ì–´ ì‘ë‹µ ìƒì„±
    const response = await this.generateNaturalResponse(
      query, analysisResult, context
    )
    
    // 6. í›„ì† ì§ˆë¬¸ ì œì•ˆ
    const followUpQuestions = this.suggestFollowUpQuestions(
      intent, entities, analysisResult
    )
    
    return {
      message: response,
      data: analysisResult,
      visualizations: this.generateVisualizations(analysisResult),
      followUpQuestions,
      confidence: analysisResult.confidence,
    }
  }
  
  // ì˜ˆì‹œ ëŒ€í™”:
  // User: "ì§€ë‚œ ë‹¬ ì¼ë³¸ ì‹œì¥ ë§¤ì¶œì´ ì™œ ë–¨ì–´ì¡Œì–´?"
  // â†’ Intent: 'revenue_analysis', Entities: {market: 'JP', period: 'last_month', direction: 'decrease'}
  // â†’ ë¶„ì„: ì¼ë³¸ ì‹œì¥ ë§¤ì¶œ ë¶„í•´, ì›ì¸ ë¶„ì„
  // â†’ ì‘ë‹µ: "ì¼ë³¸ ì‹œì¥ ë§¤ì¶œì´ 15% ê°ì†Œí•œ ì£¼ìš” ì›ì¸ì€..."
}
```

#### 3.5.2 ìŒì„± ì¸í„°í˜ì´ìŠ¤ (ì„ íƒì )

```typescript
// frontend/hooks/useVoiceInterface.ts

interface VoiceInterfaceConfig {
  language: 'ko-KR' | 'en-US' | 'ja-JP'
  continuous: boolean
  interimResults: boolean
}

function useVoiceInterface(config: VoiceInterfaceConfig) {
  const [isListening, setIsListening] = useState(false)
  const [transcript, setTranscript] = useState('')
  
  const recognition = useMemo(() => {
    if (typeof window === 'undefined') return null
    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition
    return new SpeechRecognition()
  }, [])
  
  const startListening = useCallback(() => {
    if (recognition) {
      recognition.lang = config.language
      recognition.continuous = config.continuous
      recognition.interimResults = config.interimResults
      recognition.start()
      setIsListening(true)
    }
  }, [recognition, config])
  
  // TTSë¡œ ì‘ë‹µ ì½ì–´ì£¼ê¸°
  const speakResponse = useCallback((text: string) => {
    const utterance = new SpeechSynthesisUtterance(text)
    utterance.lang = config.language
    speechSynthesis.speak(utterance)
  }, [config.language])
  
  return { isListening, transcript, startListening, speakResponse }
}
```

---

## 4. UI/UX í˜ì‹  ì„¤ê³„

### 4.1 ì •ë³´ ì•„í‚¤í…ì²˜ ì¬ì„¤ê³„

#### í˜„ì¬ êµ¬ì¡° (18ê°œ íƒ­ - ë³µì¡í•¨)
```
Business Brain
â”œâ”€â”€ ê°œìš”
â”‚   â””â”€â”€ ëŒ€ì‹œë³´ë“œ
â”œâ”€â”€ ê³ ê° ë¶„ì„
â”‚   â”œâ”€â”€ RFM ì„¸ë¶„í™”
â”‚   â”œâ”€â”€ ì´íƒˆ ì˜ˆì¸¡
â”‚   â”œâ”€â”€ ì‹ ê·œ ìœ ì € ìœ ì¹˜
â”‚   â””â”€â”€ ì¬êµ¬ë§¤ìœ¨ í–¥ìƒ
â”œâ”€â”€ ì‘ê°€ ë¶„ì„
â”‚   â”œâ”€â”€ ì‘ê°€ ê±´ê°•ë„
â”‚   â””â”€â”€ íŒŒë ˆí†  ë¶„ì„
â”œâ”€â”€ ë§¤ì¶œ ë¶„ì„
â”‚   â”œâ”€â”€ íŠ¸ë Œë“œ
â”‚   â”œâ”€â”€ ë§¤ì¶œ ì˜ˆì¸¡
â”‚   â””â”€â”€ ì½”í˜¸íŠ¸ ë¶„ì„
â”œâ”€â”€ ì¸ì‚¬ì´íŠ¸
â”‚   â”œâ”€â”€ ê¸°íšŒ ë°œê²¬
â”‚   â”œâ”€â”€ ë¦¬ìŠ¤í¬
â”‚   â”œâ”€â”€ ì „ëµ ë¶„ì„
â”‚   â””â”€â”€ ì „ëµ ì œì•ˆ
â”œâ”€â”€ ê³ ê¸‰ ë¶„ì„
â”‚   â”œâ”€â”€ ì´ìƒ íƒì§€
â”‚   â””â”€â”€ ê¸°ê°„ë³„ ì¶”ì´
â””â”€â”€ ì•¡ì…˜
    â”œâ”€â”€ ì•¡ì…˜ ì œì•ˆ
    â”œâ”€â”€ What-if ì‹œë®¬ë ˆì´ì…˜
    â””â”€â”€ ë¦¬í¬íŠ¸ ìƒì„±
```

#### ì œì•ˆ êµ¬ì¡° (3ê°œ ë©”ì¸ ë·° - ë‹¨ìˆœí™”)
```
Business Brain 2.0
â”‚
â”œâ”€â”€ ğŸ¯ Command Center (ë©”ì¸ ëŒ€ì‹œë³´ë“œ)
â”‚   â”œâ”€â”€ ì‹¤ì‹œê°„ í•µì‹¬ ì§€í‘œ
â”‚   â”œâ”€â”€ ì˜ˆì¸¡ ê²½ë³´
â”‚   â”œâ”€â”€ ëª©í‘œ ì§„í–‰ ìƒí™©
â”‚   â””â”€â”€ AI ì–´ì‹œìŠ¤í„´íŠ¸
â”‚
â”œâ”€â”€ ğŸ“Š Deep Dive (ì‹¬ì¸µ ë¶„ì„)
â”‚   â”œâ”€â”€ ê³ ê° ì¸í…”ë¦¬ì „ìŠ¤
â”‚   â”‚   â””â”€â”€ RFM, ì´íƒˆ, ì½”í˜¸íŠ¸, ì¬êµ¬ë§¤
â”‚   â”œâ”€â”€ ì‘ê°€ ì¸í…”ë¦¬ì „ìŠ¤
â”‚   â”‚   â””â”€â”€ ê±´ê°•ë„, íŒŒë ˆí† , ì„±ê³¼
â”‚   â”œâ”€â”€ ë§¤ì¶œ ì¸í…”ë¦¬ì „ìŠ¤
â”‚   â”‚   â””â”€â”€ íŠ¸ë Œë“œ, ì˜ˆì¸¡, ë¶„í•´
â”‚   â””â”€â”€ ì´ìƒ íƒì§€
â”‚
â”œâ”€â”€ ğŸš€ Action Hub (ì‹¤í–‰ ì„¼í„°)
â”‚   â”œâ”€â”€ ìš°ì„ ìˆœìœ„ë³„ ì•¡ì…˜
â”‚   â”œâ”€â”€ ì‹œë®¬ë ˆì´ì…˜
â”‚   â”œâ”€â”€ ì˜ì‚¬ê²°ì • ë§¤íŠ¸ë¦­ìŠ¤
â”‚   â””â”€â”€ ê²°ê³¼ ì¶”ì 
â”‚
â””â”€â”€ ğŸ’¬ AI Assistant (ëŒ€í™”í˜•)
    â””â”€â”€ ìì—°ì–´ ì§ˆì˜ì‘ë‹µ
```

### 4.2 Command Center ë””ìì¸

```tsx
// frontend/components/business-brain/CommandCenter.tsx

const CommandCenter = () => {
  return (
    <div className="min-h-screen bg-slate-50 dark:bg-slate-950">
      {/* ìƒë‹¨ ê²½ë³´ ë°°ë„ˆ */}
      <AlertBanner />
      
      {/* í•µì‹¬ ì§€í‘œ í—ˆë¸Œ */}
      <div className="grid grid-cols-4 gap-4 p-6">
        <MetricHubCard
          title="ë§¤ì¶œ"
          current={liveMetrics.gmv}
          target={goals.gmv}
          trend={trends.gmv}
          prediction={predictions.gmv}
          alerts={alerts.filter(a => a.category === 'revenue')}
        />
        <MetricHubCard
          title="ê³ ê°"
          current={liveMetrics.customers}
          target={goals.customers}
          trend={trends.customers}
          prediction={predictions.customers}
          alerts={alerts.filter(a => a.category === 'customer')}
        />
        <MetricHubCard
          title="ì‘ê°€"
          current={liveMetrics.activeArtists}
          target={goals.artists}
          trend={trends.artists}
          prediction={predictions.artists}
          alerts={alerts.filter(a => a.category === 'artist')}
        />
        <MetricHubCard
          title="ìš´ì˜"
          current={liveMetrics.efficiency}
          target={goals.operations}
          trend={trends.operations}
          prediction={predictions.operations}
          alerts={alerts.filter(a => a.category === 'operations')}
        />
      </div>
      
      {/* ì˜ˆì¸¡ íƒ€ì„ë¼ì¸ */}
      <PredictionTimeline
        forecasts={forecasts}
        alerts={alerts}
        goals={goals}
      />
      
      {/* AI ì¸ì‚¬ì´íŠ¸ ìŠ¤íŠ¸ë¦¼ */}
      <InsightStream insights={insights} />
      
      {/* ë¹ ë¥¸ ì•¡ì…˜ íŒ¨ë„ */}
      <QuickActionPanel
        priorityActions={actions.slice(0, 5)}
        pendingDecisions={decisions.filter(d => d.status === 'pending')}
      />
    </div>
  )
}
```

### 4.3 ì‹œê°í™” ê°œì„ 

#### 4.3.1 ì˜ˆì¸¡ ì‹œê°í™”
```tsx
// ì‹ ë¢° êµ¬ê°„ì´ í¬í•¨ëœ ì˜ˆì¸¡ ì°¨íŠ¸
const PredictionChart = ({ forecast }: { forecast: EnhancedForecast }) => {
  return (
    <ResponsiveContainer width="100%" height={400}>
      <ComposedChart data={forecast.data}>
        {/* 95% ì‹ ë¢° êµ¬ê°„ - ì—°í•œ ìƒ‰ ì˜ì—­ */}
        <Area
          dataKey="ci95"
          fill="rgba(59, 130, 246, 0.1)"
          stroke="none"
        />
        
        {/* 80% ì‹ ë¢° êµ¬ê°„ - ì¤‘ê°„ ìƒ‰ ì˜ì—­ */}
        <Area
          dataKey="ci80"
          fill="rgba(59, 130, 246, 0.2)"
          stroke="none"
        />
        
        {/* ì‹¤ì œ ê°’ */}
        <Line
          dataKey="actual"
          stroke="#1e40af"
          strokeWidth={2}
          dot={{ r: 4 }}
        />
        
        {/* ì˜ˆì¸¡ ê°’ */}
        <Line
          dataKey="predicted"
          stroke="#3b82f6"
          strokeWidth={2}
          strokeDasharray="5 5"
          dot={{ r: 3 }}
        />
        
        {/* ëª©í‘œì„  */}
        <ReferenceLine
          y={goal}
          stroke="#10b981"
          strokeDasharray="3 3"
          label="ëª©í‘œ"
        />
        
        {/* ê²½ë³´ ì„ê³„ì„  */}
        <ReferenceLine
          y={warningThreshold}
          stroke="#f59e0b"
          strokeDasharray="3 3"
          label="ì£¼ì˜"
        />
        
        <Tooltip content={<CustomTooltip />} />
        <Legend />
      </ComposedChart>
    </ResponsiveContainer>
  )
}
```

#### 4.3.2 ì˜ì‚¬ê²°ì • ì‹œê°í™”
```tsx
// í† ë„¤ì´ë„ ì°¨íŠ¸ (ë¯¼ê°ë„ ë¶„ì„)
const TornadoChart = ({ sensitivities }: { sensitivities: Sensitivity[] }) => {
  const sorted = [...sensitivities].sort((a, b) => Math.abs(b.impact) - Math.abs(a.impact))
  
  return (
    <div className="space-y-2">
      {sorted.map((item, idx) => (
        <div key={idx} className="flex items-center gap-2">
          <span className="w-32 text-sm truncate">{item.variable}</span>
          <div className="flex-1 h-6 bg-slate-100 rounded relative">
            <div
              className={`absolute h-full rounded ${
                item.impact > 0 ? 'bg-emerald-500 left-1/2' : 'bg-red-500 right-1/2'
              }`}
              style={{ width: `${Math.abs(item.impact) * 50}%` }}
            />
            <div className="absolute inset-y-0 left-1/2 w-px bg-slate-300" />
          </div>
          <span className="w-16 text-sm text-right">
            {item.impact > 0 ? '+' : ''}{(item.impact * 100).toFixed(1)}%
          </span>
        </div>
      ))}
    </div>
  )
}
```

---

## 5. ê³ ê¸‰ ë¶„ì„ ì•Œê³ ë¦¬ì¦˜ ë° ìƒˆë¡œìš´ ë¶„ì„ ëª¨ë“ˆ

### 5.1 ê³ ê¸‰ ì˜ˆì¸¡ ì•Œê³ ë¦¬ì¦˜

#### 5.1.1 ì•™ìƒë¸” ì‹œê³„ì—´ ì˜ˆì¸¡ (Ensemble Time Series)

```typescript
// backend/src/services/analytics/EnsembleForecast.ts

interface EnsembleModel {
  name: string;
  weight: number;
  predict: (history: number[], periods: number) => Promise<PredictionResult>;
}

class EnsembleForecastEngine {
  private models: Map<string, EnsembleModel> = new Map([
    ['prophet', { name: 'Prophet', weight: 0.35, predict: this.prophetPredict }],
    ['arima', { name: 'ARIMA', weight: 0.25, predict: this.arimaPredict }],
    ['ets', { name: 'ETS', weight: 0.20, predict: this.etsPredict }],
    ['lstm', { name: 'LSTM', weight: 0.15, predict: this.lstmPredict }],
    ['naive', { name: 'Naive Seasonal', weight: 0.05, predict: this.naivePredict }],
  ]);
  
  // ë™ì  ê°€ì¤‘ì¹˜ ì¡°ì • (ê³¼ê±° ì„±ëŠ¥ ê¸°ë°˜)
  private async adjustWeightsByPerformance(): Promise<void> {
    const backtest = await this.runBacktest(30); // 30ì¼ ë°±í…ŒìŠ¤íŠ¸
    
    const totalInverseError = Object.values(backtest.errors)
      .reduce((sum, err) => sum + 1 / err, 0);
    
    for (const [key, model] of this.models) {
      // ì—ëŸ¬ê°€ ë‚®ì„ìˆ˜ë¡ ë†’ì€ ê°€ì¤‘ì¹˜
      model.weight = (1 / backtest.errors[key]) / totalInverseError;
    }
  }
  
  async forecast(
    history: TimeSeriesData,
    periods: number,
    confidenceLevels: number[] = [0.80, 0.95]
  ): Promise<EnsembleForecastResult> {
    await this.adjustWeightsByPerformance();
    
    // ëª¨ë“  ëª¨ë¸ ë³‘ë ¬ ì‹¤í–‰
    const predictions = await Promise.all(
      Array.from(this.models.entries()).map(async ([key, model]) => ({
        model: key,
        result: await model.predict(history.values, periods),
        weight: model.weight,
      }))
    );
    
    // ê°€ì¤‘ í‰ê·  ì•™ìƒë¸”
    const ensembleMean = this.weightedAverage(predictions);
    
    // ë¶€íŠ¸ìŠ¤íŠ¸ë© ì‹ ë¢° êµ¬ê°„
    const confidenceIntervals = await this.bootstrapConfidenceIntervals(
      history,
      periods,
      confidenceLevels,
      1000 // 1000ë²ˆ ë¶€íŠ¸ìŠ¤íŠ¸ë©
    );
    
    // ëª¨ë¸ë³„ ê¸°ì—¬ë„ ë¶„ì„
    const contributions = predictions.map(p => ({
      model: p.model,
      weight: p.weight,
      deviation: this.calculateDeviation(p.result.values, ensembleMean),
    }));
    
    return {
      dates: this.generateFutureDates(history.endDate, periods),
      predictions: ensembleMean,
      confidenceIntervals,
      modelContributions: contributions,
      qualityMetrics: {
        backtestMAPE: await this.calculateBacktestMAPE(history),
        ensembleAgreement: this.calculateModelAgreement(predictions),
        trendStrength: this.analyzeTrendStrength(history),
      },
      explanation: await this.generateForecastExplanation(
        history,
        ensembleMean,
        contributions
      ),
    };
  }
  
  // ë¶€íŠ¸ìŠ¤íŠ¸ë© ì‹ ë¢° êµ¬ê°„ ê³„ì‚°
  private async bootstrapConfidenceIntervals(
    history: TimeSeriesData,
    periods: number,
    levels: number[],
    iterations: number
  ): Promise<ConfidenceIntervals> {
    const allPredictions: number[][] = [];
    
    for (let i = 0; i < iterations; i++) {
      // ë¦¬ìƒ˜í”Œë§
      const resampledHistory = this.resampleWithReplacement(history);
      // ë¹ ë¥¸ ëª¨ë¸ë¡œ ì˜ˆì¸¡
      const quickForecast = await this.quickForecast(resampledHistory, periods);
      allPredictions.push(quickForecast);
    }
    
    // ê° ê¸°ê°„ë³„ ë¶„ìœ„ìˆ˜ ê³„ì‚°
    const intervals: ConfidenceIntervals = {};
    for (const level of levels) {
      const lower = (1 - level) / 2;
      const upper = 1 - lower;
      
      intervals[level] = {
        lower: this.getPercentiles(allPredictions, lower),
        upper: this.getPercentiles(allPredictions, upper),
      };
    }
    
    return intervals;
  }
}
```

#### 5.1.2 ë³€í™”ì  íƒì§€ (Changepoint Detection)

```typescript
// backend/src/services/analytics/ChangepointDetector.ts

interface Changepoint {
  date: Date;
  index: number;
  type: 'level_shift' | 'trend_change' | 'variance_change';
  magnitude: number;
  confidence: number;
  possibleCauses: string[];
}

class ChangepointDetector {
  // PELT ì•Œê³ ë¦¬ì¦˜ ê¸°ë°˜ ë³€í™”ì  íƒì§€
  async detectChangepoints(
    data: number[],
    dates: Date[]
  ): Promise<Changepoint[]> {
    const changepoints: Changepoint[] = [];
    
    // 1. PELT (Pruned Exact Linear Time) ì•Œê³ ë¦¬ì¦˜
    const peltResults = this.peltAlgorithm(data, 'normal', 'MBIC');
    
    // 2. ê° ë³€í™”ì  ë¶„ë¥˜
    for (const idx of peltResults) {
      const type = this.classifyChangepoint(data, idx);
      const magnitude = this.calculateMagnitude(data, idx, type);
      const confidence = this.calculateConfidence(data, idx);
      
      // 3. ì›ì¸ ì¶”ë¡  (ì™¸ë¶€ ì´ë²¤íŠ¸ ë§¤ì¹­)
      const possibleCauses = await this.inferCauses(dates[idx]);
      
      changepoints.push({
        date: dates[idx],
        index: idx,
        type,
        magnitude,
        confidence,
        possibleCauses,
      });
    }
    
    return changepoints;
  }
  
  private peltAlgorithm(
    data: number[],
    distribution: 'normal' | 'poisson',
    penalty: 'AIC' | 'BIC' | 'MBIC'
  ): number[] {
    const n = data.length;
    const K = this.calculatePenalty(n, penalty);
    
    // F[t] = ìµœì†Œ ë¹„ìš© (0ë¶€í„° tê¹Œì§€)
    const F: number[] = new Array(n + 1).fill(Infinity);
    F[0] = -K;
    
    // R[t] = tê¹Œì§€ì˜ ë³€í™”ì  í›„ë³´ ì§‘í•©
    const R: Set<number>[] = [new Set([0])];
    
    // cp[t] = t ì‹œì ì—ì„œì˜ ë§ˆì§€ë§‰ ë³€í™”ì 
    const cp: number[] = new Array(n + 1).fill(0);
    
    for (let t = 1; t <= n; t++) {
      const candidates: Array<{ tau: number; cost: number }> = [];
      
      for (const tau of R[t - 1]) {
        const segmentCost = this.segmentCost(data.slice(tau, t), distribution);
        const totalCost = F[tau] + segmentCost + K;
        candidates.push({ tau, cost: totalCost });
      }
      
      // ìµœì†Œ ë¹„ìš© ì„ íƒ
      const best = candidates.reduce((a, b) => a.cost < b.cost ? a : b);
      F[t] = best.cost;
      cp[t] = best.tau;
      
      // Pruning: ë¹„íš¨ìœ¨ì ì¸ í›„ë³´ ì œê±°
      R.push(new Set(
        candidates
          .filter(c => c.cost <= F[t] + K)
          .map(c => c.tau)
      ));
      R[t].add(t);
    }
    
    // ë³€í™”ì  ì—­ì¶”ì 
    return this.backtrackChangepoints(cp, n);
  }
  
  // ë¹„ì¦ˆë‹ˆìŠ¤ ì´ë²¤íŠ¸ì™€ ë³€í™”ì  ì—°ê²°
  private async inferCauses(date: Date): Promise<string[]> {
    const causes: string[] = [];
    
    // 1. ë§ˆì¼€íŒ… ìº í˜ì¸ í™•ì¸
    const campaigns = await this.checkCampaigns(date);
    if (campaigns.length > 0) {
      causes.push(...campaigns.map(c => `ë§ˆì¼€íŒ…: ${c.name}`));
    }
    
    // 2. ê°€ê²© ë³€ê²½ í™•ì¸
    const priceChanges = await this.checkPriceChanges(date);
    if (priceChanges.length > 0) {
      causes.push(...priceChanges.map(p => `ê°€ê²©ë³€ê²½: ${p.product} ${p.change}%`));
    }
    
    // 3. ì™¸ë¶€ ì´ë²¤íŠ¸ í™•ì¸
    const externalEvents = await this.checkExternalEvents(date);
    causes.push(...externalEvents);
    
    // 4. ê³„ì ˆì„± ì´ë²¤íŠ¸
    const seasonalEvents = this.checkSeasonalEvents(date);
    causes.push(...seasonalEvents);
    
    return causes;
  }
}
```

#### 5.1.3 ì¸ê³¼ê´€ê³„ ë¶„ì„ (Causal Analysis)

```typescript
// backend/src/services/analytics/CausalAnalyzer.ts

interface CausalRelation {
  cause: string;
  effect: string;
  strength: number; // -1 to 1
  lagDays: number;
  confidence: number;
  mechanism: string;
}

class CausalAnalyzer {
  // Granger ì¸ê³¼ì„± ê²€ì •
  async grangerCausality(
    x: number[], // ì›ì¸ í›„ë³´
    y: number[], // ê²°ê³¼
    maxLag: number = 7
  ): Promise<GrangerResult> {
    const results: GrangerLagResult[] = [];
    
    for (let lag = 1; lag <= maxLag; lag++) {
      // ì œí•œ ëª¨ë¸: y_t = a + sum(b_i * y_{t-i})
      const restricted = this.fitARModel(y, lag);
      
      // ë¹„ì œí•œ ëª¨ë¸: y_t = a + sum(b_i * y_{t-i}) + sum(c_i * x_{t-i})
      const unrestricted = this.fitVARModel(y, x, lag);
      
      // F-ê²€ì •
      const fStat = this.calculateFStatistic(restricted, unrestricted, lag);
      const pValue = this.fTestPValue(fStat, lag, y.length - 2 * lag - 1);
      
      results.push({ lag, fStatistic: fStat, pValue });
    }
    
    // ìµœì  lag ì„ íƒ (AIC ê¸°ì¤€)
    const bestLag = this.selectOptimalLag(results);
    
    return {
      causalityDetected: results[bestLag - 1].pValue < 0.05,
      optimalLag: bestLag,
      results,
      interpretation: this.interpretGrangerResult(results[bestLag - 1]),
    };
  }
  
  // ë‹¤ë³€ëŸ‰ ì¸ê³¼ê´€ê³„ ë°œê²¬
  async discoverCausalGraph(
    variables: Record<string, number[]>,
    names: string[]
  ): Promise<CausalGraph> {
    const n = names.length;
    const edges: CausalEdge[] = [];
    
    // PC ì•Œê³ ë¦¬ì¦˜ ê¸°ë°˜ êµ¬ì¡° í•™ìŠµ
    // 1. ì™„ì „ ê·¸ë˜í”„ì—ì„œ ì‹œì‘
    const adjacency = this.initializeFullGraph(n);
    
    // 2. ì¡°ê±´ë¶€ ë…ë¦½ì„± í…ŒìŠ¤íŠ¸ë¡œ ì—£ì§€ ì œê±°
    for (let condSetSize = 0; condSetSize <= n - 2; condSetSize++) {
      for (let i = 0; i < n; i++) {
        for (let j = i + 1; j < n; j++) {
          if (!adjacency[i][j]) continue;
          
          const condSets = this.getConditioningSets(i, j, adjacency, condSetSize);
          
          for (const condSet of condSets) {
            const independent = await this.conditionalIndependenceTest(
              variables[names[i]],
              variables[names[j]],
              condSet.map(k => variables[names[k]])
            );
            
            if (independent) {
              adjacency[i][j] = false;
              adjacency[j][i] = false;
              break;
            }
          }
        }
      }
    }
    
    // 3. ì—£ì§€ ë°©í–¥ ê²°ì • (v-êµ¬ì¡° ë° Meek ê·œì¹™)
    const directedEdges = this.orientEdges(adjacency, variables);
    
    return {
      nodes: names,
      edges: directedEdges,
      visualization: this.generateGraphVisualization(names, directedEdges),
    };
  }
  
  // ì¸ê³¼ íš¨ê³¼ ì¶”ì • (DoWhy ìŠ¤íƒ€ì¼)
  async estimateCausalEffect(
    treatment: string,
    outcome: string,
    data: Record<string, number[]>,
    confounders: string[]
  ): Promise<CausalEffectEstimate> {
    // 1. ì„±í–¥ ì ìˆ˜ ë§¤ì¹­
    const propensityScores = await this.estimatePropensityScores(
      data[treatment],
      confounders.map(c => data[c])
    );
    
    // 2. IPW (Inverse Probability Weighting)
    const ipwEffect = this.ipwEstimator(
      data[treatment],
      data[outcome],
      propensityScores
    );
    
    // 3. Doubly Robust ì¶”ì •
    const drEffect = this.doublyRobustEstimator(
      data[treatment],
      data[outcome],
      propensityScores,
      confounders.map(c => data[c])
    );
    
    // 4. ë¶€íŠ¸ìŠ¤íŠ¸ë© ì‹ ë¢°êµ¬ê°„
    const bootstrapCI = await this.bootstrapCausalEffect(
      data,
      treatment,
      outcome,
      confounders,
      1000
    );
    
    return {
      treatment,
      outcome,
      ate: drEffect.ate, // í‰ê·  ì²˜ì¹˜ íš¨ê³¼
      ci95: bootstrapCI,
      methods: {
        ipw: ipwEffect,
        doublyRobust: drEffect,
      },
      sensitivity: await this.sensitivityAnalysis(drEffect),
      interpretation: this.interpretCausalEffect(drEffect, treatment, outcome),
    };
  }
}
```

### 5.2 ê³ ê¸‰ ê³ ê° ë¶„ì„

#### 5.2.1 ê³ ê° ìƒì•  ê°€ì¹˜ ì˜ˆì¸¡ (CLV Prediction)

```typescript
// backend/src/services/analytics/CLVPredictor.ts

interface CLVPrediction {
  customerId: string;
  currentCLV: number;
  predictedCLV: number;
  probability: number;
  components: {
    expectedPurchases: number;
    expectedAOV: number;
    retentionProbability: number;
  };
  segment: string;
  recommendations: string[];
}

class CLVPredictor {
  // BG/NBD ëª¨ë¸ ê¸°ë°˜ CLV ì˜ˆì¸¡
  async predictCLV(
    transactions: Transaction[],
    horizon: number = 365 // ì˜ˆì¸¡ ê¸°ê°„ (ì¼)
  ): Promise<CLVPrediction[]> {
    // 1. RFM í”¼ì²˜ ì¶”ì¶œ
    const rfmData = this.extractRFMFeatures(transactions);
    
    // 2. BG/NBD íŒŒë¼ë¯¸í„° ì¶”ì • (Maximum Likelihood)
    const bgNbdParams = await this.fitBGNBDModel(rfmData);
    
    // 3. Gamma-Gamma ëª¨ë¸ë¡œ ê¸ˆì „ì  ê°€ì¹˜ ì¶”ì •
    const gammaParams = await this.fitGammaGammaModel(rfmData);
    
    // 4. ê° ê³ ê°ë³„ CLV ê³„ì‚°
    const predictions: CLVPrediction[] = [];
    
    for (const customer of rfmData) {
      // ê¸°ëŒ€ ê±°ë˜ íšŸìˆ˜
      const expectedPurchases = this.expectedTransactions(
        bgNbdParams,
        customer.frequency,
        customer.recency,
        customer.T,
        horizon
      );
      
      // ê³ ê° ìƒì¡´ í™•ë¥ 
      const alive = this.probabilityAlive(
        bgNbdParams,
        customer.frequency,
        customer.recency,
        customer.T
      );
      
      // ê¸°ëŒ€ í‰ê·  ì£¼ë¬¸ ê¸ˆì•¡
      const expectedAOV = this.expectedAverageValue(
        gammaParams,
        customer.monetary,
        customer.frequency
      );
      
      // CLV ê³„ì‚°
      const predictedCLV = expectedPurchases * expectedAOV * alive;
      
      // ì„¸ê·¸ë¨¼íŠ¸ ë¶„ë¥˜
      const segment = this.classifyCLVSegment(
        predictedCLV,
        alive,
        customer.frequency
      );
      
      predictions.push({
        customerId: customer.customerId,
        currentCLV: customer.totalSpent,
        predictedCLV,
        probability: alive,
        components: {
          expectedPurchases,
          expectedAOV,
          retentionProbability: alive,
        },
        segment,
        recommendations: this.generateCLVRecommendations(
          segment,
          alive,
          expectedPurchases
        ),
      });
    }
    
    return predictions;
  }
  
  // BG/NBD ê¸°ëŒ€ ê±°ë˜ íšŸìˆ˜
  private expectedTransactions(
    params: { r: number; alpha: number; a: number; b: number },
    x: number,
    tx: number,
    T: number,
    horizon: number
  ): number {
    const { r, alpha, a, b } = params;
    
    const term1 = (a + b + x - 1) / (a - 1);
    const term2 = 1 - Math.pow((alpha + T) / (alpha + T + horizon), r + x) *
      this.hypergeometric(r + x, b + x, a + b + x - 1, horizon / (alpha + T + horizon));
    
    return term1 * term2;
  }
  
  // ê³ ê° ìƒì¡´ í™•ë¥  (P(alive))
  private probabilityAlive(
    params: { r: number; alpha: number; a: number; b: number },
    x: number,
    tx: number,
    T: number
  ): number {
    const { r, alpha, a, b } = params;
    
    const A = this.gamma(a + b) * this.gamma(a + x) / 
              (this.gamma(a) * this.gamma(a + b + x));
    const B = Math.pow(alpha / (alpha + T), r) * Math.pow(alpha / (alpha + tx), x);
    
    return A * B / (A * B + (a / (a + b + x - 1)));
  }
}
```

#### 5.2.2 ì´íƒˆ ì˜ˆì¸¡ ê°•í™” (Advanced Churn Prediction)

```typescript
// backend/src/services/analytics/AdvancedChurnPredictor.ts

interface ChurnPrediction {
  customerId: string;
  churnRisk: number;
  churnProbability: number;
  riskFactors: Array<{
    factor: string;
    impact: number;
    description: string;
  }>;
  predictedChurnDate: Date | null;
  interventions: Array<{
    action: string;
    expectedImpact: number;
    cost: number;
    roi: number;
  }>;
  shapValues: Record<string, number>;
}

class AdvancedChurnPredictor {
  private model: any; // XGBoost ë˜ëŠ” LightGBM
  
  // ë‹¤ì¤‘ ì‹ í˜¸ ê¸°ë°˜ ì´íƒˆ ì˜ˆì¸¡
  async predictChurn(
    customerId: string,
    features: CustomerFeatures
  ): Promise<ChurnPrediction> {
    // 1. í–‰ë™ íŠ¹ì„± ì¶”ì¶œ
    const behavioralFeatures = await this.extractBehavioralFeatures(customerId);
    
    // 2. íŠ¸ëœì­ì…˜ íŠ¹ì„± ì¶”ì¶œ
    const transactionFeatures = await this.extractTransactionFeatures(customerId);
    
    // 3. ì°¸ì—¬ë„ íŠ¹ì„± ì¶”ì¶œ
    const engagementFeatures = await this.extractEngagementFeatures(customerId);
    
    // 4. í”¼ì²˜ í†µí•©
    const allFeatures = {
      ...features,
      ...behavioralFeatures,
      ...transactionFeatures,
      ...engagementFeatures,
    };
    
    // 5. ëª¨ë¸ ì˜ˆì¸¡
    const prediction = await this.model.predict(allFeatures);
    const probability = prediction.probability;
    
    // 6. SHAP ì„¤ëª…
    const shapValues = await this.explainPrediction(allFeatures);
    
    // 7. ì£¼ìš” ë¦¬ìŠ¤í¬ ìš”ì¸ ì¶”ì¶œ
    const riskFactors = this.extractRiskFactors(shapValues);
    
    // 8. ì´íƒˆ ì‹œì  ì˜ˆì¸¡ (ìƒì¡´ ë¶„ì„)
    const predictedChurnDate = await this.predictChurnTiming(
      customerId,
      probability
    );
    
    // 9. ê°œì… ì „ëµ ìƒì„±
    const interventions = await this.generateInterventions(
      customerId,
      riskFactors,
      probability
    );
    
    return {
      customerId,
      churnRisk: this.categorizeRisk(probability),
      churnProbability: probability,
      riskFactors,
      predictedChurnDate,
      interventions,
      shapValues,
    };
  }
  
  // SHAP ê¸°ë°˜ ì„¤ëª… ìƒì„±
  private async explainPrediction(
    features: Record<string, number>
  ): Promise<Record<string, number>> {
    // TreeSHAP ì•Œê³ ë¦¬ì¦˜ (íš¨ìœ¨ì ì¸ SHAP ê³„ì‚°)
    const shapValues = await this.model.shapValues(features);
    
    // í”¼ì²˜ ì´ë¦„ê³¼ ë§¤í•‘
    const result: Record<string, number> = {};
    const featureNames = Object.keys(features);
    
    for (let i = 0; i < featureNames.length; i++) {
      result[featureNames[i]] = shapValues[i];
    }
    
    return result;
  }
  
  // ì¹´í”Œë€-ë§ˆì´ì–´ ê¸°ë°˜ ì´íƒˆ ì‹œì  ì˜ˆì¸¡
  private async predictChurnTiming(
    customerId: string,
    baseChurnProb: number
  ): Promise<Date | null> {
    if (baseChurnProb < 0.5) return null;
    
    // ìƒì¡´ í•¨ìˆ˜ ì¶”ì •
    const survivalCurve = await this.estimateSurvivalCurve(customerId);
    
    // ì¤‘ì•™ ìƒì¡´ ì‹œê°„ ì°¾ê¸° (ìƒì¡´ í™•ë¥  50% ì‹œì )
    const medianSurvivalDays = this.findMedianSurvival(survivalCurve);
    
    if (medianSurvivalDays === null) return null;
    
    const predictedDate = new Date();
    predictedDate.setDate(predictedDate.getDate() + medianSurvivalDays);
    
    return predictedDate;
  }
  
  // ê°œì… ì „ëµ ìƒì„± (ROI ìµœì í™”)
  private async generateInterventions(
    customerId: string,
    riskFactors: RiskFactor[],
    churnProb: number
  ): Promise<Intervention[]> {
    const interventions: Intervention[] = [];
    const customerCLV = await this.getCLV(customerId);
    
    // ê° ë¦¬ìŠ¤í¬ ìš”ì¸ì— ëŒ€í•œ ê°œì… ì „ëµ
    for (const factor of riskFactors) {
      const possibleActions = this.getActionsForRiskFactor(factor);
      
      for (const action of possibleActions) {
        // ê°œì… íš¨ê³¼ ì‹œë®¬ë ˆì´ì…˜
        const expectedReduction = await this.simulateIntervention(
          customerId,
          action,
          factor
        );
        
        const savedValue = customerCLV * churnProb * expectedReduction;
        const roi = (savedValue - action.cost) / action.cost;
        
        if (roi > 0) {
          interventions.push({
            action: action.name,
            expectedImpact: expectedReduction,
            cost: action.cost,
            roi,
            targetFactor: factor.factor,
          });
        }
      }
    }
    
    // ROI ê¸°ì¤€ ì •ë ¬
    return interventions.sort((a, b) => b.roi - a.roi).slice(0, 5);
  }
}
```

### 5.3 ê³ ê¸‰ ì‹œê°í™” ì»´í¬ë„ŒíŠ¸

#### 5.3.1 ì˜ˆì¸¡ ëŒ€ì‹œë³´ë“œ ì‹œê°í™”

```typescript
// frontend/components/business-brain/visualizations/ForecastDashboard.tsx

import ReactECharts from 'echarts-for-react';
import { useCallback, useMemo } from 'react';

interface ForecastDashboardProps {
  historicalData: TimeSeriesPoint[];
  forecast: ForecastResult;
  goals: BusinessGoal[];
  alerts: PredictiveAlert[];
}

const ForecastDashboard: React.FC<ForecastDashboardProps> = ({
  historicalData,
  forecast,
  goals,
  alerts,
}) => {
  const option = useMemo(() => ({
    backgroundColor: 'transparent',
    tooltip: {
      trigger: 'axis',
      backgroundColor: 'rgba(255, 255, 255, 0.95)',
      borderColor: '#e2e8f0',
      textStyle: { color: '#1e293b' },
      formatter: (params: any) => {
        // ìƒì„¸ íˆ´íŒ (ì‹¤ì œê°’, ì˜ˆì¸¡ê°’, ì‹ ë¢°êµ¬ê°„)
        const date = params[0].axisValue;
        let html = `<div class="font-semibold mb-2">${date}</div>`;
        
        params.forEach((p: any) => {
          if (p.seriesName === '95% ì‹ ë¢°êµ¬ê°„') return;
          html += `<div class="flex justify-between gap-4">
            <span class="text-slate-600">${p.marker}${p.seriesName}</span>
            <span class="font-medium">${formatCurrency(p.value)}</span>
          </div>`;
        });
        
        // ê²½ê³  í‘œì‹œ
        const dateAlerts = alerts.filter(a => 
          formatDate(a.expectedDate) === date
        );
        if (dateAlerts.length > 0) {
          html += `<div class="mt-2 pt-2 border-t border-slate-200">`;
          dateAlerts.forEach(alert => {
            const color = alert.type === 'critical' ? '#ef4444' : '#f59e0b';
            html += `<div style="color: ${color}" class="text-sm">
              âš ï¸ ${alert.title}
            </div>`;
          });
          html += `</div>`;
        }
        
        return html;
      },
    },
    legend: {
      data: ['ì‹¤ì œ', 'ì˜ˆì¸¡', '95% CI', 'ëª©í‘œ'],
      top: 10,
    },
    grid: {
      left: '3%',
      right: '4%',
      bottom: '15%',
      containLabel: true,
    },
    dataZoom: [
      {
        type: 'inside',
        start: 70,
        end: 100,
      },
      {
        type: 'slider',
        start: 70,
        end: 100,
        height: 20,
        bottom: 10,
      },
    ],
    xAxis: {
      type: 'category',
      data: [...historicalData, ...forecast.predictions].map(d => d.date),
      axisLine: { lineStyle: { color: '#94a3b8' } },
    },
    yAxis: {
      type: 'value',
      axisLabel: {
        formatter: (value: number) => formatCompact(value),
      },
      splitLine: {
        lineStyle: { color: '#e2e8f0', type: 'dashed' },
      },
    },
    series: [
      // 95% ì‹ ë¢°êµ¬ê°„ (ì˜ì—­)
      {
        name: '95% CI',
        type: 'custom',
        renderItem: renderConfidenceInterval,
        encode: { x: 0, y: [1, 2] },
        data: forecast.predictions.map((p, i) => [
          p.date,
          forecast.confidenceIntervals['0.95'].lower[i],
          forecast.confidenceIntervals['0.95'].upper[i],
        ]),
        z: -1,
      },
      // ì‹¤ì œ ë°ì´í„°
      {
        name: 'ì‹¤ì œ',
        type: 'line',
        data: historicalData.map(d => [d.date, d.value]),
        smooth: true,
        symbol: 'circle',
        symbolSize: 6,
        lineStyle: { width: 2, color: '#3b82f6' },
        itemStyle: { color: '#3b82f6' },
        areaStyle: {
          color: {
            type: 'linear',
            x: 0, y: 0, x2: 0, y2: 1,
            colorStops: [
              { offset: 0, color: 'rgba(59, 130, 246, 0.2)' },
              { offset: 1, color: 'rgba(59, 130, 246, 0)' },
            ],
          },
        },
      },
      // ì˜ˆì¸¡ ë°ì´í„°
      {
        name: 'ì˜ˆì¸¡',
        type: 'line',
        data: forecast.predictions.map(p => [p.date, p.value]),
        smooth: true,
        symbol: 'circle',
        symbolSize: 4,
        lineStyle: {
          width: 2,
          color: '#8b5cf6',
          type: 'dashed',
        },
        itemStyle: { color: '#8b5cf6' },
      },
      // ëª©í‘œì„ 
      {
        name: 'ëª©í‘œ',
        type: 'line',
        markLine: {
          data: goals.map(g => ({
            yAxis: g.target.value,
            label: { formatter: g.name },
            lineStyle: { color: '#10b981', type: 'dotted' },
          })),
        },
      },
      // ê²½ê³  ë§ˆì»¤
      {
        name: 'ê²½ê³ ',
        type: 'scatter',
        data: alerts.map(a => [
          formatDate(a.expectedDate),
          a.predictedValue,
          a.type,
        ]),
        symbol: 'triangle',
        symbolSize: 16,
        itemStyle: {
          color: (params: any) => 
            params.data[2] === 'critical' ? '#ef4444' : '#f59e0b',
        },
        z: 10,
      },
    ],
  }), [historicalData, forecast, goals, alerts]);
  
  return (
    <div className="bg-white dark:bg-slate-900 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800 p-6">
      <div className="flex items-center justify-between mb-4">
        <div>
          <h3 className="text-lg font-semibold text-slate-900 dark:text-white">
            ì˜ˆì¸¡ ëŒ€ì‹œë³´ë“œ
          </h3>
          <p className="text-sm text-slate-500 dark:text-slate-400">
            ì•™ìƒë¸” ëª¨ë¸ ê¸°ë°˜ {forecast.qualityMetrics.backtestMAPE.toFixed(1)}% MAPE
          </p>
        </div>
        <div className="flex items-center gap-2">
          <ModelContributionBadges contributions={forecast.modelContributions} />
        </div>
      </div>
      
      <ReactECharts 
        option={option} 
        style={{ height: 450 }}
        opts={{ renderer: 'canvas' }}
      />
      
      {/* ì˜ˆì¸¡ ì„¤ëª… */}
      <div className="mt-4 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-lg">
        <h4 className="font-medium text-slate-700 dark:text-slate-300 mb-2">
          AI ë¶„ì„
        </h4>
        <p className="text-sm text-slate-600 dark:text-slate-400">
          {forecast.explanation}
        </p>
      </div>
    </div>
  );
};
```

#### 5.3.2 ì¸ê³¼ê´€ê³„ ê·¸ë˜í”„ ì‹œê°í™”

```typescript
// frontend/components/business-brain/visualizations/CausalGraph.tsx

import CytoscapeComponent from 'react-cytoscapejs';
import { useMemo } from 'react';

interface CausalGraphProps {
  causalGraph: {
    nodes: string[];
    edges: CausalEdge[];
  };
  highlightPath?: string[];
}

const CausalGraphVisualization: React.FC<CausalGraphProps> = ({
  causalGraph,
  highlightPath,
}) => {
  const elements = useMemo(() => {
    const nodes = causalGraph.nodes.map(name => ({
      data: {
        id: name,
        label: name,
        highlighted: highlightPath?.includes(name),
      },
    }));
    
    const edges = causalGraph.edges.map(edge => ({
      data: {
        id: `${edge.source}->${edge.target}`,
        source: edge.source,
        target: edge.target,
        strength: edge.strength,
        label: `${(edge.strength * 100).toFixed(0)}%`,
        highlighted: highlightPath?.includes(edge.source) && 
                     highlightPath?.includes(edge.target),
      },
    }));
    
    return [...nodes, ...edges];
  }, [causalGraph, highlightPath]);
  
  const stylesheet = useMemo(() => [
    {
      selector: 'node',
      style: {
        'background-color': '#3b82f6',
        'label': 'data(label)',
        'text-valign': 'center',
        'text-halign': 'center',
        'font-size': '12px',
        'color': '#fff',
        'text-outline-color': '#3b82f6',
        'text-outline-width': 2,
        'width': 60,
        'height': 60,
      },
    },
    {
      selector: 'node[highlighted]',
      style: {
        'background-color': '#f59e0b',
        'text-outline-color': '#f59e0b',
        'border-width': 3,
        'border-color': '#d97706',
      },
    },
    {
      selector: 'edge',
      style: {
        'width': 'mapData(strength, 0, 1, 1, 8)',
        'line-color': '#94a3b8',
        'target-arrow-color': '#94a3b8',
        'target-arrow-shape': 'triangle',
        'curve-style': 'bezier',
        'label': 'data(label)',
        'font-size': '10px',
        'text-rotation': 'autorotate',
        'text-margin-y': -10,
      },
    },
    {
      selector: 'edge[highlighted]',
      style: {
        'line-color': '#f59e0b',
        'target-arrow-color': '#f59e0b',
        'width': 4,
      },
    },
  ], []);
  
  const layout = {
    name: 'dagre',
    rankDir: 'LR',
    nodeSep: 80,
    rankSep: 120,
    animate: true,
    animationDuration: 500,
  };
  
  return (
    <div className="bg-white dark:bg-slate-900 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800 p-6">
      <h3 className="text-lg font-semibold text-slate-900 dark:text-white mb-4">
        ì¸ê³¼ê´€ê³„ ê·¸ë˜í”„
      </h3>
      <p className="text-sm text-slate-500 dark:text-slate-400 mb-4">
        ë³€ìˆ˜ ê°„ ì¸ê³¼ê´€ê³„ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤. í™”ì‚´í‘œ ë°©í–¥ì€ ì›ì¸ â†’ ê²°ê³¼ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.
      </p>
      <CytoscapeComponent
        elements={elements}
        stylesheet={stylesheet}
        layout={layout}
        style={{ width: '100%', height: '500px' }}
        cy={(cy) => {
          cy.on('tap', 'node', (evt) => {
            const node = evt.target;
            // ë…¸ë“œ í´ë¦­ ì‹œ ê´€ë ¨ ê²½ë¡œ í•˜ì´ë¼ì´íŠ¸
            handleNodeClick(node.id());
          });
        }}
      />
      <div className="mt-4 flex items-center gap-4 text-sm text-slate-600 dark:text-slate-400">
        <div className="flex items-center gap-2">
          <div className="w-3 h-3 rounded-full bg-blue-500"></div>
          <span>ì¼ë°˜ ë³€ìˆ˜</span>
        </div>
        <div className="flex items-center gap-2">
          <div className="w-3 h-3 rounded-full bg-amber-500"></div>
          <span>ì„ íƒëœ ê²½ë¡œ</span>
        </div>
        <div className="flex items-center gap-2">
          <div className="w-8 h-0.5 bg-slate-400"></div>
          <span>ì•½í•œ ì¸ê³¼</span>
        </div>
        <div className="flex items-center gap-2">
          <div className="w-8 h-1 bg-slate-600"></div>
          <span>ê°•í•œ ì¸ê³¼</span>
        </div>
      </div>
    </div>
  );
};
```

### 5.4 AI ëŒ€í™”í˜• ë¶„ì„ ì¸í„°í˜ì´ìŠ¤

#### 5.4.1 ìì—°ì–´ ì¿¼ë¦¬ ì²˜ë¦¬ê¸°

```typescript
// backend/src/services/agents/NaturalLanguageAnalyzer.ts

interface QueryIntent {
  type: 'trend' | 'comparison' | 'prediction' | 'explanation' | 'recommendation';
  entities: {
    metrics: string[];
    timeRange?: { start: Date; end: Date };
    segments?: string[];
    conditions?: Record<string, any>;
  };
  confidence: number;
}

interface AnalysisResponse {
  answer: string;
  data: any;
  visualizations: VisualizationSpec[];
  followUpQuestions: string[];
  sources: string[];
}

class NaturalLanguageAnalyzer {
  private openai: OpenAI;
  private toolRegistry: Map<string, AnalysisTool>;
  
  async processQuery(
    query: string,
    context: ConversationContext
  ): Promise<AnalysisResponse> {
    // 1. ì˜ë„ íŒŒì•…
    const intent = await this.parseIntent(query);
    
    // 2. í•„ìš”í•œ ë°ì´í„° ìˆ˜ì§‘
    const data = await this.gatherData(intent);
    
    // 3. ë¶„ì„ ì‹¤í–‰
    const analysis = await this.executeAnalysis(intent, data);
    
    // 4. ìì—°ì–´ ì‘ë‹µ ìƒì„±
    const answer = await this.generateNaturalResponse(query, analysis);
    
    // 5. ì‹œê°í™” ì œì•ˆ
    const visualizations = this.suggestVisualizations(intent, analysis);
    
    // 6. í›„ì† ì§ˆë¬¸ ìƒì„±
    const followUpQuestions = await this.generateFollowUps(intent, analysis);
    
    return {
      answer,
      data: analysis.data,
      visualizations,
      followUpQuestions,
      sources: analysis.sources,
    };
  }
  
  private async parseIntent(query: string): Promise<QueryIntent> {
    const systemPrompt = `ë‹¹ì‹ ì€ ë¹„ì¦ˆë‹ˆìŠ¤ ì¿¼ë¦¬ íŒŒì„œì…ë‹ˆë‹¤.
    ì‚¬ìš©ìì˜ ì§ˆë¬¸ì„ ë¶„ì„í•˜ì—¬ ë‹¤ìŒì„ ì¶”ì¶œí•˜ì„¸ìš”:
    - ë¶„ì„ ìœ í˜• (trend/comparison/prediction/explanation/recommendation)
    - ê´€ë ¨ ë©”íŠ¸ë¦­ (gmv, orders, customers, artists, etc.)
    - ì‹œê°„ ë²”ìœ„
    - ì„¸ê·¸ë¨¼íŠ¸ ì¡°ê±´
    
    JSON í˜•ì‹ìœ¼ë¡œ ì‘ë‹µí•˜ì„¸ìš”.`;
    
    const response = await this.openai.chat.completions.create({
      model: 'gpt-4-turbo-preview',
      messages: [
        { role: 'system', content: systemPrompt },
        { role: 'user', content: query },
      ],
      response_format: { type: 'json_object' },
    });
    
    return JSON.parse(response.choices[0].message.content);
  }
  
  private async generateNaturalResponse(
    query: string,
    analysis: AnalysisResult
  ): Promise<string> {
    const systemPrompt = `ë‹¹ì‹ ì€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¶„ì„ ì „ë¬¸ê°€ì…ë‹ˆë‹¤.
    ë¶„ì„ ê²°ê³¼ë¥¼ ë°”íƒ•ìœ¼ë¡œ ìì—°ìŠ¤ëŸ½ê³  í†µì°°ë ¥ ìˆëŠ” ë‹µë³€ì„ ìƒì„±í•˜ì„¸ìš”.
    
    ì£¼ì˜ì‚¬í•­:
    1. í•µì‹¬ ìˆ˜ì¹˜ëŠ” ë°˜ë“œì‹œ í¬í•¨
    2. ë¹„êµ ê°€ëŠ¥í•œ ë§¥ë½ ì œê³µ (ì „ì›” ëŒ€ë¹„, ëª©í‘œ ëŒ€ë¹„ ë“±)
    3. ì˜ë¯¸ ìˆëŠ” ì¸ì‚¬ì´íŠ¸ ë„ì¶œ
    4. ì‹¤í–‰ ê°€ëŠ¥í•œ ì œì•ˆ í¬í•¨
    5. ë¶ˆí™•ì‹¤ì„±ì´ ìˆë‹¤ë©´ ëª…ì‹œ`;
    
    const response = await this.openai.chat.completions.create({
      model: 'gpt-4-turbo-preview',
      messages: [
        { role: 'system', content: systemPrompt },
        { 
          role: 'user', 
          content: `ì§ˆë¬¸: ${query}\n\në¶„ì„ ê²°ê³¼: ${JSON.stringify(analysis)}` 
        },
      ],
    });
    
    return response.choices[0].message.content;
  }
  
  // ì˜ˆì‹œ ì¿¼ë¦¬ ì²˜ë¦¬:
  // "ì§€ë‚œ ë‹¬ ì¼ë³¸ ì‹œì¥ ë§¤ì¶œì´ ì™œ ê°ì†Œí–ˆì–´?"
  // â†’ Intent: { type: 'explanation', entities: { metrics: ['gmv'], segments: ['JP'], timeRange: lastMonth } }
  // â†’ ë¶„ì„: ë§¤ì¶œ ë¶„í•´, ì›ì¸ ë¶„ì„, ì™¸ë¶€ ìš”ì¸ ì²´í¬
  // â†’ ì‘ë‹µ: "ì§€ë‚œ ë‹¬ ì¼ë³¸ ì‹œì¥ ë§¤ì¶œì€ ì „ì›” ëŒ€ë¹„ 12% ê°ì†Œí–ˆìŠµë‹ˆë‹¤. ì£¼ìš” ì›ì¸ì€..."
}
```

---

## 6. ìƒì„¸ êµ¬í˜„ ë¡œë“œë§µ (ë°°ì¹˜ ë¶„ì„ ìµœì í™”)

> **ğŸ“Œ ë°ì´í„° í™˜ê²½**: ë§¤ì¼ ì˜¤ì „ 11ì‹œ ë§¤ë‰´ì–¼ ì—…ë°ì´íŠ¸ (ì‹¤ì‹œê°„ ê¸°ëŠ¥ ì œì™¸)

---

### Phase 1: ì‹œê°í™” ì—”ì§„ êµì²´ ë° ê¸°ë°˜ êµ¬ì¶• (1ì£¼ì°¨)

#### 1.1 ECharts ë§ˆì´ê·¸ë ˆì´ì…˜

| ë‹¨ê³„ | ì‘ì—… ë‚´ìš© | íŒŒì¼ | ì˜ˆìƒ ì‹œê°„ |
|------|----------|------|----------|
| 1.1.1 | íŒ¨í‚¤ì§€ ì„¤ì¹˜ ë° ì„¤ì • | `package.json`, `next.config.js` | 1ì‹œê°„ |
| 1.1.2 | ECharts ë˜í¼ ì»´í¬ë„ŒíŠ¸ ìƒì„± | `components/charts/EChartsWrapper.tsx` | 2ì‹œê°„ |
| 1.1.3 | í…Œë§ˆ ì„¤ì • (ë‹¤í¬ëª¨ë“œ í¬í•¨) | `lib/echarts-theme.ts` | 2ì‹œê°„ |
| 1.1.4 | ê¸°ì¡´ ì°¨íŠ¸ ë§ˆì´ê·¸ë ˆì´ì…˜ - íŠ¸ë Œë“œ ì°¨íŠ¸ | `OverviewTab.tsx` | 3ì‹œê°„ |
| 1.1.5 | ê¸°ì¡´ ì°¨íŠ¸ ë§ˆì´ê·¸ë ˆì´ì…˜ - ì½”í˜¸íŠ¸ íˆíŠ¸ë§µ | `CohortAnalysisTab.tsx` | 3ì‹œê°„ |
| 1.1.6 | ê¸°ì¡´ ì°¨íŠ¸ ë§ˆì´ê·¸ë ˆì´ì…˜ - RFM ì°¨íŠ¸ | `RFMTab.tsx` | 2ì‹œê°„ |
| 1.1.7 | ê¸°ì¡´ ì°¨íŠ¸ ë§ˆì´ê·¸ë ˆì´ì…˜ - íŒŒë ˆí†  ì°¨íŠ¸ | `ParetoTab.tsx` | 2ì‹œê°„ |

```typescript
// êµ¬í˜„ ì˜ˆì‹œ: components/charts/EChartsWrapper.tsx
'use client'

import ReactECharts from 'echarts-for-react'
import { useTheme } from 'next-themes'
import { useMemo } from 'react'
import { getEChartsTheme } from '@/lib/echarts-theme'

interface EChartsWrapperProps {
  option: any
  height?: number | string
  loading?: boolean
  onEvents?: Record<string, (params: any) => void>
}

export function EChartsWrapper({ 
  option, 
  height = 400, 
  loading,
  onEvents 
}: EChartsWrapperProps) {
  const { theme } = useTheme()
  
  const mergedOption = useMemo(() => ({
    ...getEChartsTheme(theme === 'dark'),
    ...option,
  }), [option, theme])
  
  return (
    <ReactECharts
      option={mergedOption}
      style={{ height }}
      opts={{ renderer: 'canvas' }}
      showLoading={loading}
      onEvents={onEvents}
      notMerge
    />
  )
}
```

#### 1.2 í†µê³„ ì—”ì§„ í†µí•©

| ë‹¨ê³„ | ì‘ì—… ë‚´ìš© | íŒŒì¼ | ì˜ˆìƒ ì‹œê°„ |
|------|----------|------|----------|
| 1.2.1 | simple-statistics, jstat ì„¤ì¹˜ | `package.json` | 30ë¶„ |
| 1.2.2 | í†µê³„ ìœ í‹¸ë¦¬í‹° í´ë˜ìŠ¤ ìƒì„± | `lib/statistics/StatisticsEngine.ts` | 4ì‹œê°„ |
| 1.2.3 | ì´ìƒì¹˜ íƒì§€ ì•Œê³ ë¦¬ì¦˜ êµ¬í˜„ | `lib/statistics/AnomalyDetector.ts` | 3ì‹œê°„ |
| 1.2.4 | A/B í…ŒìŠ¤íŠ¸ ë¶„ì„ ìœ í‹¸ | `lib/statistics/ABTestAnalyzer.ts` | 2ì‹œê°„ |

```typescript
// êµ¬í˜„ ì˜ˆì‹œ: lib/statistics/StatisticsEngine.ts
import * as ss from 'simple-statistics'
import jstat from 'jstat'

export class StatisticsEngine {
  // Z-score ê¸°ë°˜ ì´ìƒì¹˜ íƒì§€
  detectZScoreAnomalies(data: number[], threshold = 3): AnomalyResult[] {
    const mean = ss.mean(data)
    const std = ss.standardDeviation(data)
    
    return data.map((value, index) => {
      const zScore = (value - mean) / std
      return {
        index,
        value,
        zScore,
        isAnomaly: Math.abs(zScore) > threshold,
        severity: Math.abs(zScore) > threshold * 1.5 ? 'critical' : 
                  Math.abs(zScore) > threshold ? 'warning' : 'normal'
      }
    })
  }
  
  // IQR ê¸°ë°˜ ì´ìƒì¹˜ íƒì§€
  detectIQRAnomalies(data: number[], multiplier = 1.5): AnomalyResult[] {
    const q1 = ss.quantile(data, 0.25)
    const q3 = ss.quantile(data, 0.75)
    const iqr = q3 - q1
    const lowerBound = q1 - multiplier * iqr
    const upperBound = q3 + multiplier * iqr
    
    return data.map((value, index) => ({
      index,
      value,
      isAnomaly: value < lowerBound || value > upperBound,
      bounds: { lower: lowerBound, upper: upperBound }
    }))
  }
  
  // íšŒê·€ ë¶„ì„
  linearRegression(x: number[], y: number[]): RegressionResult {
    const regression = ss.linearRegression(x.map((xi, i) => [xi, y[i]]))
    const line = ss.linearRegressionLine(regression)
    const predictions = x.map(line)
    const r2 = ss.rSquared(y, predictions)
    
    return {
      slope: regression.m,
      intercept: regression.b,
      r2,
      predictions,
      equation: `y = ${regression.m.toFixed(4)}x + ${regression.b.toFixed(4)}`
    }
  }
}
```

---

### Phase 2: ì˜ˆì¸¡ ì‹œìŠ¤í…œ ê³ ë„í™” (2ì£¼ì°¨)

#### 2.1 ì•™ìƒë¸” ì˜ˆì¸¡ ì—”ì§„ êµ¬í˜„

| ë‹¨ê³„ | ì‘ì—… ë‚´ìš© | íŒŒì¼ | ì˜ˆìƒ ì‹œê°„ |
|------|----------|------|----------|
| 2.1.1 | ForecastEngine ì¸í„°í˜ì´ìŠ¤ ì •ì˜ | `types/forecast.ts` | 1ì‹œê°„ |
| 2.1.2 | ì´ë™í‰ê·  ì˜ˆì¸¡ ëª¨ë¸ ê°œì„  | `services/analytics/MovingAverageModel.ts` | 2ì‹œê°„ |
| 2.1.3 | ì§€ìˆ˜ í‰í™œë²• (ETS) êµ¬í˜„ | `services/analytics/ETSModel.ts` | 4ì‹œê°„ |
| 2.1.4 | ì„ í˜• íšŒê·€ ì˜ˆì¸¡ ëª¨ë¸ | `services/analytics/LinearRegressionModel.ts` | 2ì‹œê°„ |
| 2.1.5 | ì•™ìƒë¸” ê²°í•©ê¸° êµ¬í˜„ | `services/analytics/EnsembleCombiner.ts` | 3ì‹œê°„ |
| 2.1.6 | ì‹ ë¢° êµ¬ê°„ ê³„ì‚° (Bootstrap) | `services/analytics/ConfidenceInterval.ts` | 3ì‹œê°„ |
| 2.1.7 | ë°±ì—”ë“œ API ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€ | `routes/business-brain.ts` | 2ì‹œê°„ |

```typescript
// êµ¬í˜„ ì˜ˆì‹œ: services/analytics/EnsembleForecast.ts
interface ForecastModel {
  name: string
  weight: number
  predict(data: number[], periods: number): Promise<number[]>
}

export class EnsembleForecastEngine {
  private models: ForecastModel[] = []
  
  constructor() {
    this.models = [
      { name: 'SMA', weight: 0.2, predict: this.simpleMovingAverage },
      { name: 'EMA', weight: 0.25, predict: this.exponentialMovingAverage },
      { name: 'ETS', weight: 0.3, predict: this.exponentialSmoothing },
      { name: 'Linear', weight: 0.15, predict: this.linearRegression },
      { name: 'Seasonal', weight: 0.1, predict: this.seasonalNaive },
    ]
  }
  
  async forecast(
    data: number[],
    periods: number = 30
  ): Promise<EnsembleForecastResult> {
    // 1. ê° ëª¨ë¸ ì˜ˆì¸¡ ì‹¤í–‰
    const predictions = await Promise.all(
      this.models.map(async model => ({
        name: model.name,
        values: await model.predict(data, periods),
        weight: model.weight
      }))
    )
    
    // 2. ê°€ì¤‘ í‰ê·  ì•™ìƒë¸”
    const ensemble = this.weightedAverage(predictions)
    
    // 3. ë¶€íŠ¸ìŠ¤íŠ¸ë© ì‹ ë¢° êµ¬ê°„ ê³„ì‚°
    const ci = this.bootstrapConfidenceInterval(data, periods, 1000)
    
    return {
      predictions: ensemble,
      confidenceInterval: {
        lower95: ci.lower,
        upper95: ci.upper
      },
      modelContributions: predictions.map(p => ({
        name: p.name,
        weight: p.weight
      })),
      metrics: {
        ensembleAgreement: this.calculateAgreement(predictions)
      }
    }
  }
  
  private weightedAverage(
    predictions: Array<{ values: number[], weight: number }>
  ): number[] {
    const totalWeight = predictions.reduce((sum, p) => sum + p.weight, 0)
    const periods = predictions[0].values.length
    
    return Array.from({ length: periods }, (_, i) =>
      predictions.reduce((sum, p) => sum + p.values[i] * p.weight, 0) / totalWeight
    )
  }
}
```

#### 2.2 ë³€í™”ì  íƒì§€ ì‹œìŠ¤í…œ

| ë‹¨ê³„ | ì‘ì—… ë‚´ìš© | íŒŒì¼ | ì˜ˆìƒ ì‹œê°„ |
|------|----------|------|----------|
| 2.2.1 | CUSUM ì•Œê³ ë¦¬ì¦˜ êµ¬í˜„ | `services/analytics/CUSUMDetector.ts` | 3ì‹œê°„ |
| 2.2.2 | ë³€í™”ì  ë¶„ë¥˜ê¸° | `services/analytics/ChangepointClassifier.ts` | 2ì‹œê°„ |
| 2.2.3 | ë³€í™”ì  ì‹œê°í™” ì»´í¬ë„ŒíŠ¸ | `components/charts/ChangepointChart.tsx` | 3ì‹œê°„ |
| 2.2.4 | ë³€í™”ì  ì›ì¸ ì¶”ë¡  ë¡œì§ | `services/analytics/ChangepointAnalyzer.ts` | 4ì‹œê°„ |

#### 2.3 ì˜ˆì¸¡ ì¶”ì  ë° ì„±ëŠ¥ ëŒ€ì‹œë³´ë“œ

| ë‹¨ê³„ | ì‘ì—… ë‚´ìš© | íŒŒì¼ | ì˜ˆìƒ ì‹œê°„ |
|------|----------|------|----------|
| 2.3.1 | ì˜ˆì¸¡ ê¸°ë¡ ì €ì¥ ìŠ¤í‚¤ë§ˆ | `types/forecast-tracking.ts` | 1ì‹œê°„ |
| 2.3.2 | ì˜ˆì¸¡ vs ì‹¤ì œ ë¹„êµ ë¡œì§ | `services/analytics/ForecastTracker.ts` | 3ì‹œê°„ |
| 2.3.3 | MAPE, RMSE ê³„ì‚° ìœ í‹¸ | `lib/statistics/ForecastMetrics.ts` | 2ì‹œê°„ |
| 2.3.4 | ëª¨ë¸ ì„±ëŠ¥ ëŒ€ì‹œë³´ë“œ UI | `components/business-brain/ForecastPerformance.tsx` | 4ì‹œê°„ |

---

### Phase 3: AI ì—ì´ì „íŠ¸ ë° ì¸ì‚¬ì´íŠ¸ ê°•í™” (3ì£¼ì°¨)

#### 3.1 LangChain ì—ì´ì „íŠ¸ í†µí•©

| ë‹¨ê³„ | ì‘ì—… ë‚´ìš© | íŒŒì¼ | ì˜ˆìƒ ì‹œê°„ |
|------|----------|------|----------|
| 3.1.1 | LangChain íŒ¨í‚¤ì§€ ì„¤ì¹˜ | `backend/package.json` | 30ë¶„ |
| 3.1.2 | ë¶„ì„ ë„êµ¬ ì •ì˜ | `services/agents/AnalysisTools.ts` | 4ì‹œê°„ |
| 3.1.3 | ì¿¼ë¦¬ íŒŒì„œ êµ¬í˜„ | `services/agents/QueryParser.ts` | 3ì‹œê°„ |
| 3.1.4 | ìì—°ì–´ ì‘ë‹µ ìƒì„±ê¸° | `services/agents/ResponseGenerator.ts` | 3ì‹œê°„ |
| 3.1.5 | ëŒ€í™” ì»¨í…ìŠ¤íŠ¸ ê´€ë¦¬ | `services/agents/ConversationManager.ts` | 2ì‹œê°„ |
| 3.1.6 | API ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„ | `routes/business-brain.ts` (chat í™•ì¥) | 2ì‹œê°„ |
| 3.1.7 | í”„ë¡ íŠ¸ì—”ë“œ ì±„íŒ… UI ê°œì„  | `components/business-brain/ChatInterface.tsx` | 4ì‹œê°„ |

```typescript
// êµ¬í˜„ ì˜ˆì‹œ: services/agents/BusinessAnalysisAgent.ts
import { ChatOpenAI } from '@langchain/openai'
import { DynamicStructuredTool } from '@langchain/core/tools'
import { z } from 'zod'

export class BusinessAnalysisAgent {
  private llm: ChatOpenAI
  private tools: DynamicStructuredTool[]
  
  constructor() {
    this.llm = new ChatOpenAI({
      modelName: 'gpt-4-turbo-preview',
      temperature: 0.3
    })
    
    this.tools = [
      new DynamicStructuredTool({
        name: 'analyze_revenue_trend',
        description: 'ë§¤ì¶œ íŠ¸ë Œë“œë¥¼ ë¶„ì„í•©ë‹ˆë‹¤',
        schema: z.object({
          startDate: z.string(),
          endDate: z.string(),
          segment: z.string().optional()
        }),
        func: async (params) => {
          const result = await this.revenueAnalyzer.analyze(params)
          return JSON.stringify(result)
        }
      }),
      new DynamicStructuredTool({
        name: 'find_anomalies',
        description: 'ì´ìƒì¹˜ë¥¼ íƒì§€í•©ë‹ˆë‹¤',
        schema: z.object({
          metric: z.string(),
          period: z.number()
        }),
        func: async (params) => {
          const result = await this.anomalyDetector.detect(params)
          return JSON.stringify(result)
        }
      }),
      // ì¶”ê°€ ë„êµ¬ë“¤...
    ]
  }
  
  async processQuery(query: string): Promise<AnalysisResponse> {
    // 1. ì˜ë„ íŒŒì•…
    const intent = await this.parseIntent(query)
    
    // 2. ì ì ˆí•œ ë„êµ¬ ì„ íƒ ë° ì‹¤í–‰
    const toolResults = await this.executeTool(intent)
    
    // 3. ìì—°ì–´ ì‘ë‹µ ìƒì„±
    const response = await this.generateResponse(query, toolResults)
    
    return response
  }
}
```

#### 3.2 ì¸ê³¼ê´€ê³„ ë¶„ì„ ì‹œìŠ¤í…œ

| ë‹¨ê³„ | ì‘ì—… ë‚´ìš© | íŒŒì¼ | ì˜ˆìƒ ì‹œê°„ |
|------|----------|------|----------|
| 3.2.1 | Granger ì¸ê³¼ì„± ê²€ì • êµ¬í˜„ | `services/analytics/GrangerCausality.ts` | 4ì‹œê°„ |
| 3.2.2 | ìƒê´€ê´€ê³„ ë§¤íŠ¸ë¦­ìŠ¤ ê³„ì‚° | `services/analytics/CorrelationMatrix.ts` | 2ì‹œê°„ |
| 3.2.3 | Cytoscape í†µí•© | `components/charts/CausalGraph.tsx` | 4ì‹œê°„ |
| 3.2.4 | ì¸ê³¼ê´€ê³„ ì‹œê°í™” UI | `components/business-brain/CausalAnalysis.tsx` | 4ì‹œê°„ |
| 3.2.5 | ì¸ê³¼ê´€ê³„ í•´ì„ ìƒì„± | `services/analytics/CausalInterpreter.ts` | 3ì‹œê°„ |

---

### Phase 4: ê³ ê¸‰ ë¶„ì„ ê¸°ëŠ¥ (4ì£¼ì°¨)

#### 4.1 ê³ ê° ë¶„ì„ ê°•í™”

| ë‹¨ê³„ | ì‘ì—… ë‚´ìš© | íŒŒì¼ | ì˜ˆìƒ ì‹œê°„ |
|------|----------|------|----------|
| 4.1.1 | CLV ì˜ˆì¸¡ ëª¨ë¸ (BG/NBD) | `services/analytics/CLVPredictor.ts` | 6ì‹œê°„ |
| 4.1.2 | ì´íƒˆ ì˜ˆì¸¡ ê°•í™” | `services/analytics/ChurnPredictor.ts` | 4ì‹œê°„ |
| 4.1.3 | ê³ ê° ì„¸ê·¸ë¨¼íŠ¸ ì¸ì‚¬ì´íŠ¸ | `services/analytics/SegmentInsights.ts` | 3ì‹œê°„ |
| 4.1.4 | CLV ëŒ€ì‹œë³´ë“œ ì»´í¬ë„ŒíŠ¸ | `components/business-brain/CLVDashboard.tsx` | 4ì‹œê°„ |
| 4.1.5 | ì´íƒˆ ìœ„í—˜ ê³ ê° ëª©ë¡ UI | `components/business-brain/ChurnRiskList.tsx` | 3ì‹œê°„ |

#### 4.2 ì‹œë®¬ë ˆì´ì…˜ ê°•í™”

| ë‹¨ê³„ | ì‘ì—… ë‚´ìš© | íŒŒì¼ | ì˜ˆìƒ ì‹œê°„ |
|------|----------|------|----------|
| 4.2.1 | ëª¬í…Œì¹´ë¥¼ë¡œ ì‹œë®¬ë ˆì´ì…˜ ì—”ì§„ | `services/analytics/MonteCarloSimulator.ts` | 5ì‹œê°„ |
| 4.2.2 | ë¯¼ê°ë„ ë¶„ì„ (Tornado Chart) | `services/analytics/SensitivityAnalyzer.ts` | 3ì‹œê°„ |
| 4.2.3 | What-if ì‹œë‚˜ë¦¬ì˜¤ í™•ì¥ | `services/analytics/WhatIfEngine.ts` | 4ì‹œê°„ |
| 4.2.4 | ì‹œë®¬ë ˆì´ì…˜ ê²°ê³¼ ì‹œê°í™” | `components/business-brain/SimulationResults.tsx` | 4ì‹œê°„ |

#### 4.3 ë„¤íŠ¸ì›Œí¬ ë¶„ì„

| ë‹¨ê³„ | ì‘ì—… ë‚´ìš© | íŒŒì¼ | ì˜ˆìƒ ì‹œê°„ |
|------|----------|------|----------|
| 4.3.1 | ê³ ê°-ì‘ê°€-ì œí’ˆ ê·¸ë˜í”„ ìƒì„± | `services/analytics/NetworkBuilder.ts` | 4ì‹œê°„ |
| 4.3.2 | ë„¤íŠ¸ì›Œí¬ ì¤‘ì‹¬ì„± ë¶„ì„ | `services/analytics/NetworkCentrality.ts` | 3ì‹œê°„ |
| 4.3.3 | ë„¤íŠ¸ì›Œí¬ ì‹œê°í™” ì»´í¬ë„ŒíŠ¸ | `components/charts/NetworkGraph.tsx` | 5ì‹œê°„ |

---

### Phase 5: ë³´ê³ ì„œ ë° ë‚´ë³´ë‚´ê¸° (5ì£¼ì°¨)

#### 5.1 PDF ë¦¬í¬íŠ¸ ìƒì„±

| ë‹¨ê³„ | ì‘ì—… ë‚´ìš© | íŒŒì¼ | ì˜ˆìƒ ì‹œê°„ |
|------|----------|------|----------|
| 5.1.1 | jsPDF, html2canvas ì„¤ì¹˜ | `package.json` | 30ë¶„ |
| 5.1.2 | ë¦¬í¬íŠ¸ í…œí”Œë¦¿ ì„¤ê³„ | `lib/reports/ReportTemplate.ts` | 3ì‹œê°„ |
| 5.1.3 | ê²½ì˜ì§„ ìš”ì•½ í˜ì´ì§€ | `lib/reports/ExecutiveSummary.ts` | 4ì‹œê°„ |
| 5.1.4 | ì°¨íŠ¸ ì´ë¯¸ì§€ ìº¡ì²˜ | `lib/reports/ChartCapture.ts` | 2ì‹œê°„ |
| 5.1.5 | PDF ìƒì„± ìœ í‹¸ë¦¬í‹° | `lib/reports/PDFGenerator.ts` | 4ì‹œê°„ |
| 5.1.6 | ë¦¬í¬íŠ¸ ìƒì„± UI | `components/business-brain/ReportGenerator.tsx` | 3ì‹œê°„ |

```typescript
// êµ¬í˜„ ì˜ˆì‹œ: lib/reports/PDFGenerator.ts
import jsPDF from 'jspdf'
import html2canvas from 'html2canvas'

export class PDFReportGenerator {
  private pdf: jsPDF
  
  constructor() {
    this.pdf = new jsPDF({
      orientation: 'portrait',
      unit: 'mm',
      format: 'a4'
    })
  }
  
  async generateExecutiveReport(data: ReportData): Promise<Blob> {
    // 1. í‘œì§€
    await this.addCoverPage(data.title, data.date)
    
    // 2. ê²½ì˜ì§„ ìš”ì•½
    this.pdf.addPage()
    await this.addExecutiveSummary(data.summary)
    
    // 3. í•µì‹¬ ì§€í‘œ
    this.pdf.addPage()
    await this.addKPISection(data.kpis)
    
    // 4. íŠ¸ë Œë“œ ì°¨íŠ¸
    this.pdf.addPage()
    await this.addChartSection('trend-chart', 'ë§¤ì¶œ íŠ¸ë Œë“œ')
    
    // 5. ì¸ì‚¬ì´íŠ¸
    this.pdf.addPage()
    await this.addInsightsSection(data.insights)
    
    // 6. ì•¡ì…˜ ì•„ì´í…œ
    this.pdf.addPage()
    await this.addActionItems(data.actions)
    
    return this.pdf.output('blob')
  }
  
  private async addChartSection(elementId: string, title: string) {
    const element = document.getElementById(elementId)
    if (!element) return
    
    const canvas = await html2canvas(element, { scale: 2 })
    const imgData = canvas.toDataURL('image/png')
    
    this.pdf.setFontSize(16)
    this.pdf.text(title, 20, 20)
    this.pdf.addImage(imgData, 'PNG', 10, 30, 190, 100)
  }
}
```

#### 5.2 Excel ë‚´ë³´ë‚´ê¸°

| ë‹¨ê³„ | ì‘ì—… ë‚´ìš© | íŒŒì¼ | ì˜ˆìƒ ì‹œê°„ |
|------|----------|------|----------|
| 5.2.1 | ExcelJS ì„¤ì¹˜ | `package.json` | 30ë¶„ |
| 5.2.2 | Excel í…œí”Œë¦¿ ì„¤ê³„ | `lib/reports/ExcelTemplate.ts` | 2ì‹œê°„ |
| 5.2.3 | ë°ì´í„° ì‹œíŠ¸ ìƒì„± | `lib/reports/ExcelDataSheet.ts` | 3ì‹œê°„ |
| 5.2.4 | ì¡°ê±´ë¶€ ì„œì‹ ì ìš© | `lib/reports/ExcelFormatting.ts` | 2ì‹œê°„ |
| 5.2.5 | ë‚´ë³´ë‚´ê¸° ë²„íŠ¼ í†µí•© | ê° íƒ­ ì»´í¬ë„ŒíŠ¸ | 2ì‹œê°„ |

---

### Phase 6: UX í˜ì‹  ë° UI ê°œì„  (6ì£¼ì°¨)

#### 6.1 ì •ë³´ ì•„í‚¤í…ì²˜ ì¬ì„¤ê³„

| ë‹¨ê³„ | ì‘ì—… ë‚´ìš© | íŒŒì¼ | ì˜ˆìƒ ì‹œê°„ |
|------|----------|------|----------|
| 6.1.1 | 3-ë·° êµ¬ì¡° ì„¤ê³„ | ë¬¸ì„œ ì‘ì—… | 2ì‹œê°„ |
| 6.1.2 | Command Center ë·° êµ¬í˜„ | `components/business-brain/CommandCenter.tsx` | 6ì‹œê°„ |
| 6.1.3 | Deep Dive ë·° í†µí•© | `components/business-brain/DeepDive.tsx` | 4ì‹œê°„ |
| 6.1.4 | Action Hub ë·° êµ¬í˜„ | `components/business-brain/ActionHub.tsx` | 4ì‹œê°„ |
| 6.1.5 | ë„¤ë¹„ê²Œì´ì…˜ ì¬ì„¤ê³„ | `components/business-brain/Navigation.tsx` | 3ì‹œê°„ |

#### 6.2 UI ê°œì„ 

| ë‹¨ê³„ | ì‘ì—… ë‚´ìš© | íŒŒì¼ | ì˜ˆìƒ ì‹œê°„ |
|------|----------|------|----------|
| 6.2.1 | ì• ë‹ˆë©”ì´ì…˜ í†µí•© (framer-motion) | ê° ì»´í¬ë„ŒíŠ¸ | 4ì‹œê°„ |
| 6.2.2 | ë¡œë”© ìƒíƒœ ê°œì„  | `components/ui/AnalysisLoading.tsx` | 2ì‹œê°„ |
| 6.2.3 | ë¹ˆ ìƒíƒœ ë””ìì¸ | `components/ui/EmptyState.tsx` | 2ì‹œê°„ |
| 6.2.4 | íˆ´íŒ ë° ë„ì›€ë§ | ê° ì»´í¬ë„ŒíŠ¸ | 3ì‹œê°„ |
| 6.2.5 | ë°˜ì‘í˜• ê°œì„  | ê° ì»´í¬ë„ŒíŠ¸ | 4ì‹œê°„ |

#### 6.3 ì„±ëŠ¥ ìµœì í™”

| ë‹¨ê³„ | ì‘ì—… ë‚´ìš© | íŒŒì¼ | ì˜ˆìƒ ì‹œê°„ |
|------|----------|------|----------|
| 6.3.1 | ì½”ë“œ ë¶„í•  ì ìš© | `next.config.js`, ê° í˜ì´ì§€ | 2ì‹œê°„ |
| 6.3.2 | React Query ìºì‹± ìµœì í™” | `lib/react-query.ts` | 2ì‹œê°„ |
| 6.3.3 | ê°€ìƒí™” ì ìš© (ê¸´ ëª©ë¡) | í…Œì´ë¸” ì»´í¬ë„ŒíŠ¸ | 3ì‹œê°„ |
| 6.3.4 | ì´ë¯¸ì§€ ìµœì í™” | ì°¨íŠ¸ ë‚´ë³´ë‚´ê¸° | 1ì‹œê°„ |

---

### ğŸ“Š êµ¬í˜„ ì¼ì • ìš”ì•½

| Phase | ê¸°ê°„ | ì£¼ìš” ì‘ì—… | ì‚°ì¶œë¬¼ |
|-------|------|----------|--------|
| **Phase 1** | 1ì£¼ì°¨ | ECharts ë§ˆì´ê·¸ë ˆì´ì…˜, í†µê³„ ì—”ì§„ | ìƒˆ ì°¨íŠ¸ ì‹œìŠ¤í…œ |
| **Phase 2** | 2ì£¼ì°¨ | ì•™ìƒë¸” ì˜ˆì¸¡, ë³€í™”ì  íƒì§€ | ê°œì„ ëœ ì˜ˆì¸¡ ì‹œìŠ¤í…œ |
| **Phase 3** | 3ì£¼ì°¨ | LangChain ì—ì´ì „íŠ¸, ì¸ê³¼ë¶„ì„ | AI ë¶„ì„ ì¸í„°í˜ì´ìŠ¤ |
| **Phase 4** | 4ì£¼ì°¨ | CLV, ì´íƒˆì˜ˆì¸¡, ì‹œë®¬ë ˆì´ì…˜ | ê³ ê¸‰ ë¶„ì„ ê¸°ëŠ¥ |
| **Phase 5** | 5ì£¼ì°¨ | PDF/Excel ë¦¬í¬íŠ¸ | ë³´ê³ ì„œ ì‹œìŠ¤í…œ |
| **Phase 6** | 6ì£¼ì°¨ | UX í˜ì‹ , ì„±ëŠ¥ ìµœì í™” | ì™„ì„±ëœ UI/UX |

### âœ… ê° Phase ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸

#### Phase 1 ì™„ë£Œ ì¡°ê±´
- [ ] EChartsë¡œ ëª¨ë“  ê¸°ì¡´ ì°¨íŠ¸ ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ë£Œ
- [ ] ë‹¤í¬ëª¨ë“œ í…Œë§ˆ ì ìš© í™•ì¸
- [ ] í†µê³„ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ í…ŒìŠ¤íŠ¸ í†µê³¼
- [ ] ê¸°ì¡´ ê¸°ëŠ¥ íšŒê·€ í…ŒìŠ¤íŠ¸ í†µê³¼

#### Phase 2 ì™„ë£Œ ì¡°ê±´
- [ ] ì•™ìƒë¸” ì˜ˆì¸¡ MAPE < 15% ë‹¬ì„±
- [ ] ì‹ ë¢° êµ¬ê°„ ì‹œê°í™” ì ìš©
- [ ] ë³€í™”ì  íƒì§€ ì •í™•ë„ ê²€ì¦
- [ ] ì˜ˆì¸¡ ì¶”ì  ëŒ€ì‹œë³´ë“œ ë™ì‘ í™•ì¸

#### Phase 3 ì™„ë£Œ ì¡°ê±´
- [ ] ìì—°ì–´ ì¿¼ë¦¬ 5ê°€ì§€ ì´ìƒ ìœ í˜• ì§€ì›
- [ ] ì¸ê³¼ê´€ê³„ ê·¸ë˜í”„ ì‹œê°í™” ì™„ë£Œ
- [ ] AI ì‘ë‹µ í’ˆì§ˆ ê²€ì¦ (human review)

#### Phase 4 ì™„ë£Œ ì¡°ê±´
- [ ] CLV ì˜ˆì¸¡ ì •í™•ë„ ê²€ì¦
- [ ] ì´íƒˆ ì˜ˆì¸¡ AUC > 0.8 ë‹¬ì„±
- [ ] ì‹œë®¬ë ˆì´ì…˜ ê²°ê³¼ ì‹ ë¢°ì„± ê²€ì¦

#### Phase 5 ì™„ë£Œ ì¡°ê±´
- [ ] PDF ë¦¬í¬íŠ¸ ìƒì„± í…ŒìŠ¤íŠ¸
- [ ] Excel ë‚´ë³´ë‚´ê¸° ë°ì´í„° ì •í™•ì„± í™•ì¸
- [ ] ì°¨íŠ¸ ì´ë¯¸ì§€ í’ˆì§ˆ í™•ì¸

#### Phase 6 ì™„ë£Œ ì¡°ê±´
- [ ] 3-ë·° êµ¬ì¡° ë„¤ë¹„ê²Œì´ì…˜ í…ŒìŠ¤íŠ¸
- [ ] í˜ì´ì§€ ë¡œë“œ ì‹œê°„ < 2ì´ˆ
- [ ] ëª¨ë°”ì¼ ë°˜ì‘í˜• í…ŒìŠ¤íŠ¸ í†µê³¼

---

## 7. ê¸°ìˆ  ìŠ¤íƒ ìš”ì•½

### 7.1 í”„ë¡ íŠ¸ì—”ë“œ ì‹ ê·œ ì˜ì¡´ì„±

```json
{
  "dependencies": {
    // ì‹œê°í™” (í•µì‹¬)
    "echarts": "^5.5.0",
    "echarts-for-react": "^3.0.2",
    "cytoscape": "^3.28.0",
    "react-cytoscapejs": "^2.0.0",
    "cytoscape-dagre": "^2.5.0",
    
    // í†µê³„/ë¶„ì„
    "simple-statistics": "^7.8.3",
    "jstat": "^1.9.6",
    
    // ë³´ê³ ì„œ ìƒì„±
    "jspdf": "^2.5.1",
    "html2canvas": "^1.4.1",
    "exceljs": "^4.4.0",
    
    // UI ê°œì„ 
    "framer-motion": "^11.0.0",
    "@tanstack/react-virtual": "^3.1.0"
  }
}
```

### 7.2 ë°±ì—”ë“œ ì‹ ê·œ ì˜ì¡´ì„±

```json
{
  "dependencies": {
    // AI ì—ì´ì „íŠ¸ (í•µì‹¬)
    "langchain": "^0.1.0",
    "@langchain/openai": "^0.0.28"
  }
}
```

### 7.3 Python ì„œë¹„ìŠ¤ (ë¶„ì„ ì—”ì§„)

```txt
# requirements.txt
prophet==1.1.5
xgboost==2.0.0
shap==0.44.0
lifetimes==0.11.3  # BG/NBD, Gamma-Gamma
scikit-learn==1.4.0
pandas==2.2.0
numpy==1.26.0
fastapi==0.109.0
uvicorn==0.27.0
```

### 7.4 ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨ (ë°°ì¹˜ ë¶„ì„ ìµœì í™”)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Frontend (Next.js)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚  ECharts    â”‚  â”‚  Cytoscape  â”‚  â”‚  simple-    â”‚              â”‚
â”‚  â”‚  ì‹œê°í™”     â”‚  â”‚  ë„¤íŠ¸ì›Œí¬   â”‚  â”‚  statistics â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚   jsPDF     â”‚  â”‚  ExcelJS    â”‚  â”‚  React      â”‚              â”‚
â”‚  â”‚  ë¦¬í¬íŠ¸     â”‚  â”‚  ë‚´ë³´ë‚´ê¸°   â”‚  â”‚   Query     â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚              ë¶„ì„ ê²°ê³¼ ìºì‹± ë ˆì´ì–´               â”‚            â”‚
â”‚  â”‚  (React Query + LocalStorage ê¸°ë°˜ ìºì‹±)         â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                         â”‚                                        â”‚
â”‚                      REST API                                    â”‚
â”‚                         â”‚                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Backend (Express.js)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚  LangChain  â”‚  â”‚   Cache     â”‚  â”‚  Statistics â”‚              â”‚
â”‚  â”‚   ì—ì´ì „íŠ¸  â”‚  â”‚   Manager   â”‚  â”‚   Engine    â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚            Business Brain Agent                  â”‚            â”‚
â”‚  â”‚   (ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜, ì¸ì‚¬ì´íŠ¸ ìƒì„±, ë°°ì¹˜ ë¶„ì„)    â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                         â”‚                                        â”‚
â”‚                    HTTP/REST                                     â”‚
â”‚                         â”‚                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Data Sources                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     PostgreSQL     â”‚     Redis Cache     â”‚    External APIs     â”‚
â”‚   (ë§¤ì¼ 11ì‹œ ì—…ë°ì´íŠ¸)   (ë¶„ì„ ê²°ê³¼ ìºì‹œ)     (OpenAI ë“±)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“Œ ë°ì´í„° ì—…ë°ì´íŠ¸ ì£¼ê¸°: ë§¤ì¼ ì˜¤ì „ 11ì‹œ (ë°°ì¹˜ ì²˜ë¦¬)
ğŸ“Œ ìºì‹± ì „ëµ: ë°ì´í„° ì—…ë°ì´íŠ¸ í›„ ë¶„ì„ ê²°ê³¼ ìºì‹± (24ì‹œê°„ ìœ íš¨)
```

### 7.5 ë°ì´í„° íë¦„

```
ì‚¬ìš©ì ì¿¼ë¦¬
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. ì˜ë„ íŒŒì•… (LangChain + GPT-4)                             â”‚
â”‚    "ì§€ë‚œ ë‹¬ ì¼ë³¸ ë§¤ì¶œ ì™œ ë–¨ì–´ì¡Œì–´?"                          â”‚
â”‚    â†’ { type: 'explanation', metric: 'gmv', segment: 'JP' }   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. ë°ì´í„° ìˆ˜ì§‘ (ë³‘ë ¬ ì‹¤í–‰)                                   â”‚
â”‚    - ì¼ë³¸ ì‹œì¥ GMV ì‹œê³„ì—´                                    â”‚
â”‚    - ì™¸ë¶€ ì´ë²¤íŠ¸ (í™˜ìœ¨, íœ´ì¼)                                â”‚
â”‚    - ë§ˆì¼€íŒ… ìº í˜ì¸ ì´ë ¥                                      â”‚
â”‚    - ê²½ìŸì‚¬ ë™í–¥ (ê°€ëŠ¥ì‹œ)                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. ë¶„ì„ ì‹¤í–‰                                                  â”‚
â”‚    - ì‹œê³„ì—´ ë¶„í•´ (Prophet)                                   â”‚
â”‚    - ë³€í™”ì  íƒì§€ (PELT)                                      â”‚
â”‚    - ì¸ê³¼ê´€ê³„ ë¶„ì„ (Granger)                                 â”‚
â”‚    - ìœ ì‚¬ ê³¼ê±° ì‚¬ë¡€ ê²€ìƒ‰ (Pinecone)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. ì¸ì‚¬ì´íŠ¸ ìƒì„± (GPT-4)                                     â”‚
â”‚    "ì¼ë³¸ ì‹œì¥ ë§¤ì¶œì´ 12% ê°ì†Œí•œ ì£¼ìš” ì›ì¸ì€:                 â”‚
â”‚     1. ì—”í™” ì•½ì„¸ (í™˜ìœ¨ 5% ìƒìŠ¹)                              â”‚
â”‚     2. ì£¼ìš” ì‘ê°€ 3ëª… ì´íƒˆ                                    â”‚
â”‚     3. ê²½ìŸì‚¬ í”„ë¡œëª¨ì…˜ ì˜í–¥"                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. ì‹œê°í™” ìƒì„± (ECharts + Cytoscape)                         â”‚
â”‚    - ë§¤ì¶œ íŠ¸ë Œë“œ + ë³€í™”ì  ë§ˆí‚¹                               â”‚
â”‚    - ì›ì¸ë³„ ê¸°ì—¬ë„ ì›Œí„°í´ ì°¨íŠ¸                               â”‚
â”‚    - ê´€ë ¨ ìš”ì¸ ì¸ê³¼ ê·¸ë˜í”„                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6. ì•¡ì…˜ ì œì•ˆ                                                  â”‚
â”‚    - "í™˜ìœ¨ í—¤ì§€ ìƒí’ˆ ê²€í†  ê¶Œì¥"                              â”‚
â”‚    - "ì´íƒˆ ì‘ê°€ ë³µê·€ ìº í˜ì¸ ì œì•ˆ"                            â”‚
â”‚    - "ê²½ìŸ ëŒ€ì‘ í”„ë¡œëª¨ì…˜ ê¸°íš í•„ìš”"                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 8. ì„±ê³µ ì§€í‘œ (KPIs) - í™•ì¥íŒ

### 8.1 ë¶„ì„ ì •í™•ë„ ì§€í‘œ

| ì§€í‘œ | í˜„ì¬ | ëª©í‘œ | ì™¸ë¶€ ë„êµ¬ íš¨ê³¼ | ì¸¡ì • ë°©ë²• |
|------|------|------|---------------|----------|
| ì˜ˆì¸¡ MAPE (7ì¼) | ~25% | <10% | Prophet ì•™ìƒë¸” | ë°±í…ŒìŠ¤íŠ¸ |
| ì˜ˆì¸¡ MAPE (30ì¼) | ~35% | <15% | Prophet + LSTM | ë°±í…ŒìŠ¤íŠ¸ |
| ì´íƒˆ ì˜ˆì¸¡ ì •í™•ë„ | ~65% | >85% | XGBoost + SHAP | Precision/Recall |
| CLV ì˜ˆì¸¡ ì •í™•ë„ | N/A | >80% | BG/NBD | RÂ² |
| ê²½ë³´ ì •í™•ë„ | N/A | >90% | ë³€í™”ì  íƒì§€ | ê²½ë³´ â†’ ì´ë²¤íŠ¸ |
| ì¸ê³¼ê´€ê³„ ë°œê²¬ìœ¨ | N/A | >75% | Granger ì¸ê³¼ì„± | ì „ë¬¸ê°€ ê²€ì¦ |

### 8.2 ì„±ëŠ¥ ì§€í‘œ

| ì§€í‘œ | í˜„ì¬ | ëª©í‘œ | ìµœì í™” ë°©ë²• | ì¸¡ì • ë°©ë²• |
|------|------|------|------------|----------|
| ì´ˆê¸° ë¡œë“œ | ~4ì´ˆ | <1.5ì´ˆ | ì½”ë“œ ë¶„í• , ì§€ì—° ë¡œë”© | Lighthouse |
| ì°¨íŠ¸ ë Œë”ë§ (10ë§Œì ) | ~3ì´ˆ | <0.5ì´ˆ | ECharts Canvas | ì„±ëŠ¥ í”„ë¡œíŒŒì¼ |
| ë¶„ì„ API ì‘ë‹µ | ~3ì´ˆ | <1ì´ˆ | ìºì‹±, ì¿¼ë¦¬ ìµœì í™” | ë²¤ì¹˜ë§ˆí¬ |
| AI ì¸ì‚¬ì´íŠ¸ ìƒì„± | ~5ì´ˆ | <3ì´ˆ | í”„ë¡¬í”„íŠ¸ ìµœì í™” | API ë¡œê·¸ |
| ìºì‹œ íˆíŠ¸ìœ¨ | ~40% | >85% | React Query + Redis | ìºì‹œ í†µê³„ |
| ë³´ê³ ì„œ ìƒì„± | ~10ì´ˆ | <5ì´ˆ | ìµœì í™”ëœ ë Œë”ë§ | ì„±ëŠ¥ ì¸¡ì • |

### 8.3 ë¹„ì¦ˆë‹ˆìŠ¤ ê°€ì¹˜ ì§€í‘œ

| ì§€í‘œ | í˜„ì¬ | ëª©í‘œ | ê¸°ëŒ€ íš¨ê³¼ | ì¸¡ì • ë°©ë²• |
|------|------|------|----------|----------|
| ì˜ˆì¸¡ í™œìš©ë¥  | ~20% | >80% | ì˜ì‚¬ê²°ì • í’ˆì§ˆ í–¥ìƒ | ì‚¬ìš© ë¡œê·¸ |
| ê²½ë³´ ëŒ€ì‘ë¥  | N/A | >90% | ë¬¸ì œ ì¡°ê¸° ëŒ€ì‘ | ì•¡ì…˜ ì¶”ì  |
| ì¸ì‚¬ì´íŠ¸ ì‹¤í–‰ë¥  | ~30% | >70% | ë¶„ì„ ROI í–¥ìƒ | ì•¡ì…˜ ì™„ë£Œìœ¨ |
| ì˜ì‚¬ê²°ì • ì‹œê°„ | ~2ì¼ | <4ì‹œê°„ | ì‹œë®¬ë ˆì´ì…˜ í™œìš© | í”„ë¡œì„¸ìŠ¤ ì¶”ì  |
| ë§¤ì¶œ ì˜í–¥ | ì¸¡ì • í•„ìš” | +5% | ìµœì í™”ëœ ì˜ì‚¬ê²°ì • | A/B í…ŒìŠ¤íŠ¸ |
| ì´íƒˆ ë°©ì§€ | ì¸¡ì • í•„ìš” | +15% | ì‚¬ì „ ê°œì… | ì½”í˜¸íŠ¸ ë¹„êµ |

### 8.4 ì‚¬ìš©ì ê²½í—˜ ì§€í‘œ

| ì§€í‘œ | í˜„ì¬ | ëª©í‘œ | ê°œì„  ë°©ë²• | ì¸¡ì • ë°©ë²• |
|------|------|------|----------|----------|
| íƒ­ ë‚´ë¹„ê²Œì´ì…˜ | 18ê°œ íƒ­ | 3ê°œ ë©”ì¸ ë·° | UI ì¬ì„¤ê³„ | ë„¤ë¹„ê²Œì´ì…˜ ë¶„ì„ |
| ì •ë³´ ë„ë‹¬ ì‹œê°„ | ~5ë¶„ | <1ë¶„ | Command Center | ì„¸ì…˜ ë¶„ì„ |
| ìì—°ì–´ ì¿¼ë¦¬ ì„±ê³µë¥  | N/A | >85% | LangChain ì—ì´ì „íŠ¸ | ì¿¼ë¦¬ ë¡œê·¸ |
| ì°¨íŠ¸ ì¸í„°ë™ì…˜ | ì œí•œì  | ì™„ì „ ì¸í„°ë™í‹°ë¸Œ | ECharts | ì´ë²¤íŠ¸ ì¶”ì  |
| ê²½ì˜ì§„ ë§Œì¡±ë„ | ì¸¡ì • í•„ìš” | >9/10 | ì¢…í•© ê°œì„  | NPS |
| ê¸°ëŠ¥ ì‚¬ìš© ê· ë“±ë„ | ë¶ˆê· ë“± | ê· ë“± (Â±20%) | ì ‘ê·¼ì„± ê°œì„  | ê¸°ëŠ¥ë³„ ì¶”ì  |

### 8.5 ì‹œìŠ¤í…œ ì•ˆì •ì„± ì§€í‘œ

| ì§€í‘œ | í˜„ì¬ | ëª©í‘œ | ì¸¡ì • ë°©ë²• |
|------|------|------|----------|
| API ê°€ìš©ì„± | ~99% | >99.9% | ì—…íƒ€ì„ ëª¨ë‹ˆí„°ë§ |
| ì—ëŸ¬ìœ¨ | ~2% | <0.1% | ì—ëŸ¬ ë¡œê·¸ |
| ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ | ìˆìŒ | ì—†ìŒ | í™ í”„ë¡œíŒŒì¼ë§ |
| ìºì‹œ ì¼ê´€ì„± | ì¸¡ì • í•„ìš” | 100% | ë°ì´í„° ê²€ì¦ |

---

## 9. ë¦¬ìŠ¤í¬ ê´€ë¦¬ ë° ëŒ€ì‘ ì „ëµ

### 9.1 ê¸°ìˆ ì  ë¦¬ìŠ¤í¬

| ë¦¬ìŠ¤í¬ | ì˜í–¥ | í™•ë¥  | ëŒ€ì‘ ì „ëµ |
|--------|------|------|----------|
| Python ì„œë¹„ìŠ¤ ì¥ì•  | ê³ ê¸‰ ë¶„ì„ ë¶ˆê°€ | ì¤‘ | í´ë°±: JS ê¸°ë°˜ ë‹¨ìˆœ ë¶„ì„ìœ¼ë¡œ ëŒ€ì²´ |
| TensorFlow.js WebGL í˜¸í™˜ì„± | ë¸Œë¼ìš°ì € ML ë¶ˆê°€ | ì € | í´ë°±: ì„œë²„ ì‚¬ì´ë“œ ì¶”ë¡  |
| Pinecone ë²¡í„° DB ì¥ì•  | ìœ ì‚¬ ê²€ìƒ‰ ë¶ˆê°€ | ì € | ë¡œì»¬ ìºì‹œ ê¸°ë°˜ ê²€ìƒ‰ìœ¼ë¡œ ëŒ€ì²´ |
| OpenAI API ì œí•œ | AI ê¸°ëŠ¥ ì œí•œ | ì¤‘ | Rate limiting, íì‰, ë¡œì»¬ ëª¨ë¸ ëŒ€ì•ˆ |
| ëŒ€ìš©ëŸ‰ ë°ì´í„° ë¸Œë¼ìš°ì € ë©”ëª¨ë¦¬ | í¬ë˜ì‹œ | ì¤‘ | ê°€ìƒí™”, ìŠ¤íŠ¸ë¦¬ë°, ì„œë²„ì‚¬ì´ë“œ ì§‘ê³„ |

### 9.2 ë¹„ì¦ˆë‹ˆìŠ¤ ë¦¬ìŠ¤í¬

| ë¦¬ìŠ¤í¬ | ì˜í–¥ | í™•ë¥  | ëŒ€ì‘ ì „ëµ |
|--------|------|------|----------|
| ì˜ëª»ëœ ì˜ˆì¸¡ ê¸°ë°˜ ì˜ì‚¬ê²°ì • | ë¹„ì¦ˆë‹ˆìŠ¤ ì†ì‹¤ | ì¤‘ | ì‹ ë¢° êµ¬ê°„ ê°•ì¡°, íœ´ë¨¼ ê²€í†  ì²´í¬í¬ì¸íŠ¸ |
| ê²½ë³´ í”¼ë¡œ (ê³¼ë„í•œ ì•Œë¦¼) | ì¤‘ìš” ì•Œë¦¼ ë¬´ì‹œ | ê³  | ìŠ¤ë§ˆíŠ¸ í•„í„°ë§, ì ì§„ì  ì—ìŠ¤ì»¬ë ˆì´ì…˜ |
| ê³¼ë„í•œ ìë™í™” ì˜ì¡´ | ì¸ê°„ íŒë‹¨ë ¥ ì €í•˜ | ì¤‘ | "ì™œ?" ì„¤ëª… ê°•í™”, ëŒ€ì•ˆ ì œì‹œ |
| ë°ì´í„° í”„ë¼ì´ë²„ì‹œ | ë²•ì  ë¦¬ìŠ¤í¬ | ì € | ë¡œì»¬ ì²˜ë¦¬ ìš°ì„ , ìµëª…í™” |

### 9.3 ë§ˆì´ê·¸ë ˆì´ì…˜ ë¦¬ìŠ¤í¬

| ë¦¬ìŠ¤í¬ | ì˜í–¥ | í™•ë¥  | ëŒ€ì‘ ì „ëµ |
|--------|------|------|----------|
| ECharts ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤íŒ¨ | ì‹œê°í™” ì¥ì•  | ì¤‘ | ì ì§„ì  ë§ˆì´ê·¸ë ˆì´ì…˜, A/B í…ŒìŠ¤íŠ¸ |
| ë ˆê±°ì‹œ ì½”ë“œ í˜¸í™˜ì„± | ê¸°ëŠ¥ ì†ì‹¤ | ì¤‘ | ë˜í¼ ë ˆì´ì–´, ë³‘ë ¬ ìš´ì˜ ê¸°ê°„ |
| ì„±ëŠ¥ ì €í•˜ | UX ì•…í™” | ì¤‘ | ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬, ë¡¤ë°± ê³„íš |

---

## 10. ê²°ë¡ 

### 10.1 í˜ì‹  ìš”ì•½

Business Brain 2.0ì€ **ì™¸ë¶€ ë„êµ¬ ìƒíƒœê³„**ë¥¼ ì ê·¹ í™œìš©í•˜ì—¬ ë‹¨ìˆœ ë¶„ì„ ëŒ€ì‹œë³´ë“œì—ì„œ **ì˜ˆì¸¡ì  ê²½ì˜ ì¸í…”ë¦¬ì „ìŠ¤ ì‹œìŠ¤í…œ**ìœ¼ë¡œ ì§„í™”í•©ë‹ˆë‹¤.

> ğŸ“Œ **ë°ì´í„° í™˜ê²½**: ë§¤ì¼ ì˜¤ì „ 11ì‹œ ë°°ì¹˜ ì—…ë°ì´íŠ¸ ê¸°ë°˜ ìµœì í™”

```
í˜„ì¬ ìƒíƒœ                          ëª©í‘œ ìƒíƒœ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ë‹¨ìˆœ ì°¨íŠ¸ (Recharts)         â†’    ê³ ê¸‰ ì¸í„°ë™í‹°ë¸Œ (ECharts)
ë‹¨ì¼ ëª¨ë¸ ì˜ˆì¸¡               â†’    ì•™ìƒë¸” ì˜ˆì¸¡ (ë‹¤ì¤‘ í†µê³„ ëª¨ë¸)
ê¸°ë³¸ í†µê³„                    â†’    ê³ ê¸‰ í†µê³„ ë¶„ì„ (simple-statistics)
ë‹¨ìˆœ ì¸ì‚¬ì´íŠ¸                â†’    AI ê¸°ë°˜ ì¸ì‚¬ì´íŠ¸ (LangChain)
ê¸°ë³¸ ê²€ìƒ‰                    â†’    ìì—°ì–´ ì¿¼ë¦¬ ì¸í„°í˜ì´ìŠ¤
ê²°ê³¼ í™•ì¸                    â†’    ì¸ê³¼ê´€ê³„ ë¶„ì„ + ë³€í™”ì  íƒì§€
ìˆ˜ë™ ë³´ê³ ì„œ                  â†’    ìë™ PDF/Excel ë¦¬í¬íŠ¸ ìƒì„±
18ê°œ íƒ­ ë„¤ë¹„ê²Œì´ì…˜           â†’    3ê°œ ë©”ì¸ ë·° (Command/Deep/Action)
```

### 10.2 í•µì‹¬ ì„±ê³µ ìš”ì¸

| ìš”ì¸ | ì„¤ëª… | ì£¼ìš” ë„êµ¬ |
|------|------|----------|
| **ì •í™•ì„±** | ì•™ìƒë¸” ì˜ˆì¸¡, ì‹ ë¢° êµ¬ê°„, ë°±í…ŒìŠ¤íŠ¸ | Prophet, TensorFlow.js |
| **ì„¤ëª…ë ¥** | SHAP, ì¸ê³¼ ê·¸ë˜í”„, ìì—°ì–´ ì„¤ëª… | SHAP, Cytoscape, GPT-4 |
| **ì‹¤ì‹œê°„ì„±** | ì‹¤ì‹œê°„ KPI, ì˜ˆì¸¡ ê²½ë³´ | Socket.io, Web Workers |
| **ì¸í„°ë™í‹°ë¸Œ** | ê³ ê¸‰ ì‹œê°í™”, ë“œë¦´ë‹¤ìš´, ì‹œë®¬ë ˆì´ì…˜ | ECharts, Plotly |
| **í™•ì¥ì„±** | ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤, ìºì‹± | Python API, Dexie |
| **ì ‘ê·¼ì„±** | ìì—°ì–´ ì¿¼ë¦¬, ë‹¨ìˆœí™”ëœ UI | LangChain, 3-View ì„¤ê³„ |

### 10.3 ê¸°ëŒ€ íš¨ê³¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Business Brain 2.0 ê¸°ëŒ€ íš¨ê³¼                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ğŸ“ˆ ë¶„ì„ ì •í™•ë„          â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘  80% â†’ 95%   â”‚
â”‚  âš¡ ì‘ë‹µ ì†ë„            â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘  3ì´ˆ â†’ 0.5ì´ˆ â”‚
â”‚  ğŸ¯ ì˜ˆì¸¡ ì •í™•ë„ (MAPE)   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘  25% â†’ 10%   â”‚
â”‚  ğŸ”” ê²½ë³´ ì •í™•ë„          â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘  N/A â†’ 90%  â”‚
â”‚  ğŸ’¬ ìì—°ì–´ ì²˜ë¦¬ ì„±ê³µë¥    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘  N/A â†’ 85%   â”‚
â”‚  ğŸ‘¥ ì‚¬ìš©ì ë§Œì¡±ë„        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘  7/10 â†’ 9/10â”‚
â”‚  ğŸ“Š ì¸ì‚¬ì´íŠ¸ ì‹¤í–‰ë¥       â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘  30% â†’ 70%   â”‚
â”‚  â±ï¸ ì˜ì‚¬ê²°ì • ì‹œê°„        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘  2ì¼ â†’ 4ì‹œê°„â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 10.4 ë‹¤ìŒ ë‹¨ê³„

1. **Phase 1 ì‹œì‘**: ECharts ë§ˆì´ê·¸ë ˆì´ì…˜ ë° Arquero ë°ì´í„° íŒŒì´í”„ë¼ì¸ êµ¬ì¶•
2. **Python ì„œë¹„ìŠ¤ ì„¤ì •**: FastAPI ê¸°ë°˜ ë¶„ì„ ì—”ì§„ ì„œë²„ êµ¬ì¶•
3. **ì¸í”„ë¼ ì¤€ë¹„**: Pinecone ê³„ì •, Socket.io ì„œë²„, ìºì‹± ë ˆì´ì–´
4. **ì ì§„ì  ë°°í¬**: ê¸°ì¡´ ê¸°ëŠ¥ ìœ ì§€í•˜ë©° ìƒˆ ê¸°ëŠ¥ A/B í…ŒìŠ¤íŠ¸

### 10.5 ìµœì¢… ë¹„ì „

> **"Business Brain 2.0ì€ ë°ì´í„°ì˜ ë°”ë‹¤ì—ì„œ ì¸ì‚¬ì´íŠ¸ì˜ ì§„ì£¼ë¥¼ ì°¾ì•„ë‚´ëŠ” ê²ƒì„ ë„˜ì–´,
> ë¯¸ë˜ë¥¼ ì˜ˆì¸¡í•˜ê³  ìµœì ì˜ ì˜ì‚¬ê²°ì •ì„ ì œì•ˆí•˜ëŠ” ì§„ì •í•œ ê²½ì˜ íŒŒíŠ¸ë„ˆê°€ ë  ê²ƒì…ë‹ˆë‹¤.
> ë§ˆì¹˜ Minority Reportê°€ ë²”ì£„ë¥¼ ì˜ˆë°©í•˜ë“¯ì´, Business Brainì€ ë¹„ì¦ˆë‹ˆìŠ¤ ìœ„ê¸°ë¥¼ 
> ì˜ˆë°©í•˜ê³  ê¸°íšŒë¥¼ ì„ ì í•˜ì—¬ ê²½ìŸ ìš°ìœ„ë¥¼ í™•ë³´í•˜ë„ë¡ ì§€ì›í•©ë‹ˆë‹¤."**

---

*ë¬¸ì„œ ë²„ì „: 2.1 (ìµœì¢… êµ¬í˜„ ê³„íš)*
*ì‘ì„±ì¼: 2024ë…„ 12ì›”*
*ì‘ì„±: AI ìë™í™” íŒ€*
*ë°ì´í„° í™˜ê²½: ë§¤ì¼ ì˜¤ì „ 11ì‹œ ë°°ì¹˜ ì—…ë°ì´íŠ¸*
*ìƒíƒœ: êµ¬í˜„ ì¤€ë¹„ ì™„ë£Œ*

---

## ë¶€ë¡ A: ì™¸ë¶€ ë„êµ¬ ë¼ì´ì„ ìŠ¤ ì •ë³´

| ë„êµ¬ | ë¼ì´ì„ ìŠ¤ | ë¹„ìš© | ë¹„ê³  |
|------|----------|------|------|
| ECharts | Apache 2.0 | ë¬´ë£Œ | ìƒì—…ìš© ê°€ëŠ¥ |
| Arquero | BSD-3-Clause | ë¬´ë£Œ | ìƒì—…ìš© ê°€ëŠ¥ |
| TensorFlow.js | Apache 2.0 | ë¬´ë£Œ | ìƒì—…ìš© ê°€ëŠ¥ |
| LangChain | MIT | ë¬´ë£Œ | ìƒì—…ìš© ê°€ëŠ¥ |
| Prophet | MIT | ë¬´ë£Œ | ìƒì—…ìš© ê°€ëŠ¥ |
| Cytoscape | MIT | ë¬´ë£Œ | ìƒì—…ìš© ê°€ëŠ¥ |
| Pinecone | Commercial | ìœ ë£Œ | ë¬´ë£Œ í‹°ì–´ ìˆìŒ |
| OpenAI API | Commercial | ìœ ë£Œ | ì‚¬ìš©ëŸ‰ ê¸°ë°˜ |
| Socket.io | MIT | ë¬´ë£Œ | ìƒì—…ìš© ê°€ëŠ¥ |

## ë¶€ë¡ B: ì°¸ê³  ìë£Œ

- [ECharts ê³µì‹ ë¬¸ì„œ](https://echarts.apache.org/)
- [Arquero API ë ˆí¼ëŸ°ìŠ¤](https://uwdata.github.io/arquero/)
- [Prophet ë…¼ë¬¸](https://peerj.com/preprints/3190/)
- [LangChain ê°€ì´ë“œ](https://js.langchain.com/)
- [SHAP ë…¼ë¬¸](https://arxiv.org/abs/1705.07874)
- [Granger Causality](https://en.wikipedia.org/wiki/Granger_causality)
- [BG/NBD ëª¨ë¸](https://www.sciencedirect.com/science/article/abs/pii/S0167811605000418)

